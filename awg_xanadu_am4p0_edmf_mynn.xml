<?xml version="1.0"?>

<!-- GFDL Model Development Team (MDT) documentation: http://cobweb.gfdl.noaa.gov/~niz/mdt/ -->
<!-- GFDL MDT Atmosphere Working Group (AWG) documentation: http://cobweb.gfdl.noaa.gov/~cjg/awg/ -->

<!-- Model configurations in support of MDT Atmosphere Working Group (AWG), xanadu revision -->

<!-- QUICK START GUIDE:

 Model source codes and xml file history

# On 4/17/2020, the following were done:
#
# .. existing cm4p12_xanadu_donner_my25_turb_tridiag_tke was renamed to cm4p12_xanadu_donner_my25_turb_mf
#
# .. existing xml_xanadu_donner_my25_turb_tridiag_tke was renamed to xml_xanadu_donner_my25_turb_mf
#    in subdirectory xml_xanadu_donner_my25_turb_tridiag_tke, awg_xanadu_donner_my25_turb_tridiag_tke.xml
#    was renamed to awg_xanadu_donner_my25_turb_mf.xml

# Change YOURGROUPLETTER to your group, such as f, w, o...
  <property name="GFDL_YGL" value="gfdl_YOURGROUPLETTER"/>

# To compile:
# .. module load fre/bronx-15
# .. fremake -x awg_xanadu_donner_my25_turb_mf.xml -p ncrc3.intel -t openmp cm4p12_xanadu_donner_my25_turb_mf

# To run regression test:
# .. frerun -r basic -x awg_xanadu_donner_my25_turb_mf.xml -p ncrc3.intel -t openmp c96L33_am4p0_donner

# To run a complete experiment (with automated database entry if MDBIswitch in "on"):
# .. frerun -x awg_xanadu_donner_my25_turb_mf.xml -p ncrc3.intel -t openmp c96L33_am4p0_donner

! Reference results for automated tests. Verify the sha1 checksum of of the
! diag-integral.out ascii file against the checksums listed below. The checksum
! can be computed with the 'taverage' AWG utility.

On gaea c4
ref> c96L33_am4p0/ncrc4.intel-prod-openmp/0m8d                       aa5b334386f7037c49cd0c934fb6e7d2b95b3bd7
-->

<experimentSuite rtsVersion="4" xmlns:xi="http://www.w3.org/2003/XInclude">

  <property name="GFDL_YGL" value="gfdl_m"/> <!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
  <property name="RELEASE" value="xanadu"/>                    <!-- base code release -->
  <property name="MOM6_DATE" value="om4_v1.0.1"/>              <!-- git tag date for MOM6 source code -->
  <property name="MOM6_GIT_TAG" value="dev/gfdl/2018.04.06"/>  <!-- git tag for MOM6 source code -->
  <property name="AWG_GIT_TAG" value="xanadu"/>                <!-- git tag for AWG source code -->
  <property name="AWG_BASE" value="cm4p12" />
  <property name="AWG_VERSION" value="xanadu"/>                <!-- AWG source code version -->

  <property name="FRE_STEM" value="awg/$(RELEASE)"/>
  <property name="FRE_VERSION" value="bronx-18"/>
  <property name="FMS_COMP_EXP" value="$(AWG_BASE)_$(AWG_VERSION)_am4p0_edmf_mynn"/>
  <property name="XMLDIR" value="xml_xanadu_am4p0_edmf_mynn"/>

  <property name="ANALYSIS_SWITCH" value="on"/>
  <property name="TS_ANALYSIS_SWITCH" value="off"/>
  <property name="ANALYSIS_ESM_SWITCH" value="off"/>
  <property name="MDBIswitch" value="off"/>                    <!-- on/off switch for MDBI database -->
  <property name="ProjectID" value="AWG"/>                     <!-- database top level -->

  <property name="AWG_INPUT_HOME_GAEA" value="$HOME/$(FRE_STEM)/xml_$(AWG_VERSION)_am4p0_edmf_mynn/awg_include"/>
  <property name="AWG_INPUT_HOME_GFDL" value="/home/$USER/ncrc/$(FRE_STEM)/xml_$(AWG_VERSION)_am4p0_edmf_mynn/awg_include"/>
  <property name="REFERENCE_ROOT" value="/lustre/f2/dev/Thomas.Robinson/reference_files/$(RELEASE)/cmip6"/>

<!--
GFDL FAIR USE POLICY

GFDL recognizes the essential nature of collaboration in the scientific
enterprise, including the importance of novel application and analysis of our
models. In order to maximize mutual benefit from collaboration, the use of
experimental GFDL models** should be done in a manner that ensures that
individuals involved in model development receive proper credit for their
work; in order to minimize the potential for misapplication of experimental
models, collaborations should actively engage model developers. Publication of
results using experimental GFDL models should be done in consultation with
scientists that participated in the model development. Consultation with GFDL
model developers should occur before submission of publications based on
experimental GFDL models, and should include agreement on the appropriate level
of acknowledgment, co-authorship and participation by the model developers.
Since experimental models have not been thoroughly vetted, experimental GFDL
models and their output should be distributed only after consultation with the
developers of the model. After a GFDL model has been described in a
peer-reviewed publication it is no longer experimental, and results based on
the model should cite the publication(s) describing the model.

** "Experimental GFDL models" refers to models (e.g., a coupled climate model),
model components (e.g., parameterization schemes), model configurations (e.g.,
the specific arrangement and parameter settings of model components) arising
from model development efforts at GFDL, but whose formulation and configuration
have not yet been documented in the peer-reviewed literature, as well as outputs
from integrations with these models.
-->

<!--====================-->
<!--= AMIP EXPERIMENTS =-->
<!--====================-->

<!--
AMIP simulations are configured to start in 1980 with the first year being a
spin-up year. Postprocessing and analysis are performed starting in 1981. The
length of the simulation and analysis period can be controlled by changing
properties below.
-->

  <!-- make sure to change current_date in coupler_nml accordingly -->

  <property name="EXP_AMIP_START" value="1979"/>
  <property name="EXP_AMIP_END"   value="1980"/>
  <property name="EXP_AMIP_LEN"   value="2"/>
  <property name="ANA_AMIP_START" value="1980"/>
  <property name="ANA_AMIP_END"   value="1984"/>
  <property name="ANA_AMIP_LEN"   value="5yr"/>

<!--
  <property name="EXP_AMIP_START" value="1979"/>
  <property name="EXP_AMIP_END"   value="1981"/>
  <property name="EXP_AMIP_LEN"   value="3"/>
  <property name="ANA_AMIP_START" value="1980"/>
  <property name="ANA_AMIP_END"   value="1981"/>
  <property name="ANA_AMIP_LEN"   value="2yr"/>
-->

<!--  6-year AMIP
-->

<!--
  <property name="EXP_AMIP_START" value="1979"/>
  <property name="EXP_AMIP_END"   value="1984"/>
  <property name="EXP_AMIP_LEN"   value="6"/>
  <property name="ANA_AMIP_START" value="1980"/>
  <property name="ANA_AMIP_END"   value="1984"/>
  <property name="ANA_AMIP_LEN"   value="5yr"/>
-->

<!--
  <property name="EXP_AMIP_START" value="1979"/>
  <property name="EXP_AMIP_END"   value="2014"/>
  <property name="EXP_AMIP_LEN"   value="36"/>
  <property name="ANA_AMIP_START" value="1980"/>
  <property name="ANA_AMIP_END"   value="2014"/>
  <property name="ANA_AMIP_LEN"   value="35yr"/>
-->

<!--
  <property name="EXP_AMIP_START" value="2000"/>
  <property name="EXP_AMIP_END"   value="2005"/>
  <property name="EXP_AMIP_LEN"   value="6"/>
  <property name="ANA_AMIP_START" value="2001"/>
  <property name="ANA_AMIP_END"   value="2005"/>
  <property name="ANA_AMIP_LEN"   value="5yr"/>
-->

<!--
  <property name="EXP_AMIP_START" value="2000"/>
  <property name="EXP_AMIP_END"   value="2014"/>
  <property name="EXP_AMIP_LEN"   value="15"/>
  <property name="ANA_AMIP_START" value="2001"/>
  <property name="ANA_AMIP_END"   value="2014"/>
  <property name="ANA_AMIP_LEN"   value="14yr"/>
-->

  <property name="CVDP_startyear" value="$(EXP_AMIP_START)"/>

  <!-- Post-processing chunk length -->
  <!-- ANA_AMIP_LEN must be an integer multiple of PP_AMIP_CHUNK -->
  <property name="PP_AMIP_CHUNK" value="1yr"/>

<!--=====================================-->
<!--= RFP, CESS SENSITIVITY EXPERIMENTS =-->
<!--=====================================-->

<!--
Experiments to compute RFP (Radiative Flux Perturbation) and Cess sensitivity
were originally configured by Larry Horowitz. Experiments are configured to
start in year 0001, postprocessing and analysis are performed starting from
the second year (0002). The length of the simulation and analysis period can
be controlled by changing properties below.
-->

  <!-- make sure to change current_date in coupler_nml accordingly -->
  <property name="EXP_CLIMO_START" value="0001"/>
  <property name="EXP_CLIMO_END"   value="0011"/>
  <property name="EXP_CLIMO_LEN"   value="11"/>
  <property name="ANA_CLIMO_START" value="0002"/>
  <property name="ANA_CLIMO_END"   value="0011"/>
  <property name="ANA_CLIMO_LEN"   value="10yr"/>
  <property name="PP_CLIMO_CHUNK"  value="5yr"/>


  <property name="EXP_CCLIMO_START" value="0001"/>
  <property name="EXP_CCLIMO_END"   value="0140"/>
  <property name="EXP_CCLIMO_LEN"   value="140"/>
  <property name="ANA_CCLIMO_START" value="0001"/>
  <property name="ANA_CCLIMO_END"   value="0140"/>
  <property name="ANA_CCLIMO_LEN"   value="20yr"/>
  <property name="PP_CCLIMO_CHUNK"  value="5yr"/>
  <property name="PP_CCLIMO_CHUNK_B" value="20yr"/>
  <property name="PP_OCEAN_CHUNK"   value="5yr"/>
  <property name="PP_OCEAN_CHUNK_B" value="20yr"/>
  <property name="ANA_CCLIMO_BQX"   value="0020"/>

  <property name="CVDP_startyear_climo" value="$(EXP_CLIMO_START)"/>

<!--=================-->
<!--= CHANGING NPES =-->
<!--=================-->

<!--
This xml includes a number of predefined options for the number of PEs.
Changing the number of PEs can be accomplished by simply
modifying 'npes' and segment 'runTime' in the xml <production> block:

    <production simTime="$(EXP_AMIP_LEN)" units="years" npes="864" runTime="16:00:00">
      <segment simTime="12" units="months" runTime="1:30:00"/>
    </production>

Choosing a particular PE number is a balancing act. The higher npes,
the faster the model throughput, but also the lower the model efficiency
(i.e. the overall simulation will cost more in terms of core hours).

Available options for c96L32:
"""""""""""""""""""""""""""""

  +========+======================+======================+
  |        |  Suggested run time for 12 month segment    |
  |  npes  |    am4g10                                   |
  +========+=============================================+
  |   432  |    02:30:00                                 |
  |** 864**|    01:30:00                                 |
  |  1152  |    01:10:00                                 |
  |  1728  |    00:50:00                                 |
  |  2304  |    00:45:00                                 |
  |  3456  |    00:40:00                                 |
  |  4608  |    00:32:00                                 |
  +========+======================+======================+

**Note:** default settings are highlighted in **bold**. Suggested
run time values may need to be adjusted for your specific
configuration.

-->

  <setup>

<!-- MDBI -->
    <fmsRelease>fmsversion</fmsRelease>
<!-- /MDBI -->
    <platform name="gfdl.ncrc3-intel">
      <freVersion>$(FRE_VERSION)</freVersion>
      <directory stem="$(FRE_STEM)">
<!-- MDBI requires these to be listed in order to show the path under "Platform Environment" -->
        <scripts>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/scripts</scripts>
        <stdout>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
        <state>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
        <archive>$ARCHIVE/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
        <postProcess>$ARCHIVE/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
        <analysis>/nbhome/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)</analysis>
<!-- /MDBI -->
      </directory>
      <property name="F2003_FLAGS"         value="-DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GFDL)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/archive/cjg/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/archive/oar.gfdl.cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/archive/h1g/mdt"/>
      <property name="NCORE_PER_NODE"      value="1"/>
      <csh><![CDATA[
        module load git
        ]]>
      </csh>
    </platform>

    <platform name="ncrc3.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
<!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/xml_$(AWG_VERSION)_donner_my25_turb_mf/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML -g  "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="32"/>
      <csh><![CDATA[
        module load git
#
       setenv KMP_STACKSIZE 512m
       setenv NC_BLKSZ 1M
       setenv OMP_SCHEDULE "static,1"

      ]]></csh>
    </platform>

    <platform name="ncrc3.intel17">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.4.196" />
<!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/xml_$(AWG_VERSION)_donner_my25_turb_mf/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="32"/>
      <csh><![CDATA[
       setenv OMP_SCHEDULE "static,1"
      ]]></csh>
    </platform>


    <platform name="ncrc3.intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='ncrc3.intel16']/node())" />
    </platform>
    <platform name="gfdl.ncrc3-intel17">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.ncrc3-intel']/node())" />
    </platform>
    <platform name="gfdl.ncrc3-intel16">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.ncrc3-intel']/node())" />
    </platform>


    <platform name="ncrc4.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
<!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/xml_$(AWG_VERSION)_donner_my25_turb_mf/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML -g  "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="36"/>
      <csh><![CDATA[
        module load git
#
       setenv KMP_STACKSIZE 512m
       setenv NC_BLKSZ 1M
       setenv OMP_SCHEDULE "static,1"

      ]]></csh>
    </platform>

    <platform name="ncrc4.intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='ncrc4.intel16']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.ncrc3-intel']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel16">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.ncrc3-intel']/node())" />
    </platform>

    <platform name="ncrc4.intel17">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.4.196" />
<!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/xml_$(AWG_VERSION)_donner_my25_turb_mf/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="36"/>
      <csh><![CDATA[
        module load git
#
       setenv KMP_STACKSIZE 512m
       setenv NC_BLKSZ 1M
       setenv OMP_SCHEDULE "static,1"

      ]]></csh>
    </platform>
    <platform name="gfdl.ncrc4-intel17">
      <freVersion>$(FRE_VERSION)</freVersion>
      <directory stem="$(FRE_STEM)">
<!-- MDBI requires these to be listed in order to show the path under "Platform Environment" -->
        <scripts>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/scripts</scripts>
        <stdout>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
        <state>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
        <archive>$ARCHIVE/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
        <postProcess>$ARCHIVE/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
        <analysis>/nbhome/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)</analysis>
<!-- /MDBI -->
      </directory>
      <property name="F2003_FLAGS"         value="-DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GFDL)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/archive/cjg/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/archive/oar.gfdl.cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/archive/h1g/mdt"/>
      <property name="NCORE_PER_NODE"      value="1"/>
      <csh><![CDATA[
        module load git
        ]]>
      </csh>
    </platform>
<!-- GNU (GCC) -->
    <platform name="gfdl.ncrc4-gnu">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.ncrc3-intel']/node())" />
    </platform>

    <platform name="ncrc4.gnu">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="gnu" version="7.3.0" />
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/xml_$(AWG_VERSION)_donner_my25_turb_mf/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="36"/>
    </platform>

    <platform name="gfdl.ncrc3-gnu">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.ncrc3-intel']/node())" />
    </platform>
    <platform name="ncrc3.gnu">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="gnu" version="7.3.0" />
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/xml_$(AWG_VERSION)_donner_my25_turb_mf/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="32"/>
    </platform>

    <platform name="ncrc4.intel18">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="18.0.6.288" />
<!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/xml_$(AWG_VERSION)_donner/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML -g  "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="36"/>
      <csh><![CDATA[
        module load git
#
       setenv KMP_STACKSIZE 512m
       setenv NC_BLKSZ 1M
       setenv OMP_SCHEDULE "static,1"

      ]]></csh>
    </platform>

    <platform name="gfdl.ncrc4-intel18">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.ncrc3-intel']/node())" />
    </platform>

    <platform name="ncrc4.intel19">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="19.0.5.281" />
      <project>$(GFDL_YGL)</project>
      <directory stem="$(FRE_STEM)">
         <src>$HOME/$(stem)/$(name)/src</src>
         <scripts>$HOME/$(stem)/$(XMLDIR)/scripts/$(platform)-$(target)</scripts>
         <stdout>$SCRATCH/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
         <state>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
         <archive>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
         <postProcess>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
         <analysis>$DEV/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/analysis</analysis>
      </directory>
      <property name="F2003_FLAGS"         value=" -DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="$PDATA/gfdl/gfdl_M"/>
      <property name="CJG_ARCHIVE_ROOT"    value="$PDATA/gfdl/gfdl_M/cjg/archive/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="$PDATA/gfdl/cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="$PDATA/gfdl/gfdl_M/Huan.Guo/archive/mdt"/>
      <property name="NCORE_PER_NODE"      value="36"/>
      <csh><![CDATA[
module load git
module load gcp
#
       setenv KMP_STACKSIZE 512m
       setenv NC_BLKSZ 1M
       setenv OMP_SCHEDULE "static,1"

      ]]></csh>
    </platform>

    <platform name="gfdl.ncrc4-intel19">
      <freVersion>$(FRE_VERSION)</freVersion>
      <directory stem="$(FRE_STEM)">
<!-- MDBI requires these to be listed in order to show the path under "Platform Environment" -->
        <scripts>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/scripts</scripts>
        <stdout>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/stdout</stdout>
        <state>/home/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/state</state>
        <archive>$ARCHIVE/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)</archive>
        <postProcess>$ARCHIVE/$(stem)/$(FMS_COMP_EXP)/$(name)/$(platform)-$(target)/pp</postProcess>
        <analysis>/nbhome/$USER/$(stem)/$(FMS_COMP_EXP)/$(name)</analysis>
<!-- /MDBI -->
      </directory>
      <property name="F2003_FLAGS"         value="-DINTERNAL_FILE_NML "/>
      <property name="AWG_INPUT_HOME"      value="$(AWG_INPUT_HOME_GFDL)"/>
      <property name="AWG_ARCHIVE_ROOT"    value="/archive"/>
      <property name="CJG_ARCHIVE_ROOT"    value="/archive/cjg/mdt"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/archive/oar.gfdl.cmip6/datasets"/>
      <property name="H1G_ARCHIVE_ROOT"    value="/archive/h1g/mdt"/>
      <property name="NCORE_PER_NODE"      value="1"/>
      <csh><![CDATA[
        module load git
        ]]>
      </csh>
    </platform>


  </setup>

<!--===========-->
<!--= COMPILE =-->
<!--===========-->

  <!--The property MOM6_EXAMPLES should point to the mom6 directory that is checked out. It is needed by MOM6 to access its inpu data files-->
  <property name="MOM6_EXAMPLES"  value="$root/cm4_compile/src/mom6"/>

  <experiment name="$(FMS_COMP_EXP)">
    <description>

Experiment to build executable. See git log for source code provenance.

Contains an update to fms_donner.F90 to increase the length of character variables
method_name, method_control to len=1024; this is to prevent a tracer_manager.F90
query_method() function error "len_trim(control_tr)>len(control)".

Contains an update to my25_turb.F90 to add the tridiagonal solver from tke_turb.F90

    </description>

    <component name="fms" paths="FMS">
     <description domainName="infrastructure" communityName="FMS" communityVersion="$(RELEASE)" communityGrid=""/>
      <source versionControl="git" root="https://github.com/NOAA-GFDL">
        <codeBase version="$(RELEASE)"> FMS.git </codeBase>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -Duse_libMPI -Duse_netCDF </cppDefs>
      </compile>
    </component>

    <component name="atmos_phys" requires="fms" paths="atmos_param atmos_shared">
      <description domainName="" communityName="" communityVersion="$(RELEASE)" communityGrid=""/>
        <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
          <codeBase version="master">atmos_shared.git atmos_param.git</codeBase>
          <csh><![CDATA[
            ( cd atmos_shared && git checkout  $(AWG_GIT_TAG) )
            ( cd atmos_param  && git checkout  $(AWG_GIT_TAG) )
                       ]]>
          </csh>
        </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -DCLUBB </cppDefs>
      </compile>
    </component>

    <component name="atmos_dyn" paths="atmos_drivers/coupled
                                       atmos_cubed_sphere/driver/coupled
                                       atmos_cubed_sphere/model
                                       atmos_cubed_sphere/model_nh_null
                                       atmos_cubed_sphere/tools
                                       atmos_cubed_sphere/GFDL_tools"
                                requires="fms atmos_phys">
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="master">atmos_drivers.git atmos_cubed_sphere.git</codeBase>
        <csh><![CDATA[
          ( cd atmos_drivers && git checkout       $(AWG_GIT_TAG) )
          ( cd atmos_cubed_sphere && git checkout  $(AWG_GIT_TAG) )
         ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -DSPMD -DCLIMATE_NUDGE</cppDefs>
      </compile>
    </component>

    <component name="ice_sis" requires="fms mom6" paths="ice_sis ice_param">
      <description domainName="Sea Ice SIS" communityName="GFDL-SIS" communityVersion="$(RELEASE)" communityGrid="Tripolar"/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="master"> ice_sis.git ice_param.git </codeBase>
        <csh><![CDATA[
          ( cd ice_sis    && git checkout $(AWG_GIT_TAG) )
          ( cd ice_param  && git checkout $(AWG_GIT_TAG) )
         ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -Duse_netCDF</cppDefs>
      </compile>
    </component>

    <component name="land_lad2" requires="fms" paths="land_lad2">
      <description domainName="LM3" communityName="land_lad2" communityVersion="dev/master" communityGrid=""/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="master">land_lad2.git</codeBase>
        <csh><![CDATA[
          ( cd land_lad2 && git checkout $(AWG_GIT_TAG) )
         ]]>
        </csh>
      </source>
      <compile doF90Cpp="yes">
       <cppDefs>$(F2003_FLAGS) -nostdinc</cppDefs>
      </compile>
    </component>

    <component name="mom6" requires="fms" paths="mom6/src/MOM6/config_src/dynamic mom6/src/MOM6/config_src/coupled_driver mom6/src/MOM6/src/*/ mom6/src/MOM6/src/*/*/ ocean_shared/generic_tracers ocean_shared/mocsy/src">
      <description domainName="Ocean" communityName="GFDL-MOM6" communityVersion="$(MOM6_GIT_TAG)" communityGrid="Tripolar"/>
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="master"> ocean_shared.git </codeBase>
        <csh><![CDATA[
          git clone -b $(MOM6_GIT_TAG) https://github.com/NOAA-GFDL/MOM6-examples.git mom6
          pushd mom6
          git checkout $(MOM6_GIT_TAG)  #needed for older git on zeus
          git submodule init src/MOM6 src/SIS2 src/icebergs tools/python/MIDAS
          git clone --recursive https://github.com/NOAA-GFDL/MOM6.git src/MOM6
          git clone             https://github.com/NOAA-GFDL/SIS2.git src/SIS2
          git clone             https://github.com/NOAA-GFDL/icebergs.git src/icebergs
          git submodule update #This gets the right version of submodules
          popd

          pushd mom6
          set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
          if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
            ln -s /scratch4/GFDL/gfdlscr/pdata/gfdl_O/datasets/ .datasets
          else if ("${platform_domain}" =~ *"ccs.ornl.gov"* ) then
            ln -s /lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/ .datasets
          else
            ln -s /lustre/f2/pdata/gfdl/gfdl_O/datasets/ .datasets
          endif
          popd

          test -e mom6/.datasets
          if ($status != 0) then
            echo ""; echo "" ; echo "   WARNING:  .datasets link in MOM6 examples directory is invalid"; echo ""; echo ""
          endif

        ]]></csh>
      </source>
      <compile>
        <cppDefs><![CDATA[ $(F2003_FLAGS) -DMAX_FIELDS_=100 -DNOT_SET_AFFINITY -D_USE_MOM6_DIAG -D_USE_GENERIC_TRACER  -DUSE_PRECISION=2 -D_FILE_VERSION="'"`git-version-string $<`"'" ]]></cppDefs>
        <makeOverrides>OPENMP=""</makeOverrides> <!-- openmp switch for MOM6 may cause crash -->
      </compile>
    </component>

    <component name="coupler" paths="coupler"
               requires="fms atmos_dyn atmos_phys land_lad2 ice_sis mom6 ">
      <description domainName="FMS Coupler" communityName="coupler" communityVersion="$(RELEASE)" communityGrid=""/>
      <source versionControl="git" root="https://github.com/NOAA-GFDL">
        <codeBase version="$(RELEASE)"> coupler.git </codeBase>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS)</cppDefs>
      </compile>
    </component>

  </experiment>

<!--============================-->
<!--= TEMPLATES FOR INPUT DATA =-->
<!--============================-->

  <freInclude name="common_LM4">
    <input>
      <dataFile label="input" target="INPUT/soil_type.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/soil_type_hwsd_5minute.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/biodata.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/cover_type.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/geohydrology.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/geohydrology_table_2a2n.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/ground_type.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/landuse.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/soil_brdf.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96_LM4">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/c96_LM4/19810101.static_veg_LM3p2sosn_HWSD5min_C96_OM4_025.v20150930.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/c96_LM4/c96_OM4_025_hydrography_v20170413.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/c96_LM4/c96_topo_rough_land.nc.tar</dataSource>
     </dataFile>
    </input>
  </freInclude>

 <freInclude name="common_AM4_v20170208">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/sea_esf_CM4_V6_AUG2015.cpio</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/aerosol_inputs_newdroplet2_v20170208.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/tropchem_dec2015.cpio</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/depvel_gc_am3_tran.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/so2_0.25_volcanoes.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/AM4_201510" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/am4_optical_table_20151029.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="common_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/cmip6_GHG_ODS_conc_2016.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/chemlbf" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/chemlbf_CMIP6_merge_RCP45</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/o3.climatology.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/mmro3_CMIP6_184901-201512.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/emissions.isoprene.1x1.2000.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/emissions.terpenes.1x1.2000.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_TimeSeries_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/omgsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/asmsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Solar/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_TimeSeries_cmip6_v2">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_TimeSeries_cmip6_v2/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_TimeSeries_cmip6_v2/omgsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_TimeSeries_cmip6_v2/asmsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_TimeSeries_cmip6_v2/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_TimeSeries_cmip6_v2/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_2010_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/David.Paynter/CMIP6_INPUT/Solar/AVG_2010/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_2010_cmip6_v2">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_2010_cmip6_v2/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_2010_cmip6_v2/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_2010_cmip6_v2/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_2010_cmip6_v2/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_2010_cmip6_v2/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_1850_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_1850_cmip6_v2">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="emissions_cmip6_v20161213">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/cmip6/datasets/CM4/forcings/emissions_cmip6_v20161213/litechem_emission.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/anthro_so2.1849_2016.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Vaishali.Naik/input/cmip6_forcing_dataset/emissions/v2016-12-13/fast_chemistry/emissions.simple.so2.0.5x0.5.1849-2016.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/co2_data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/cmip6/datasets/CM4/forcings/CO2/co2_historical_3D_0to2016.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="emissions_cmip6_v20170518">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/emissions_cmip6_v20170518/emissions.fastchem.0.5x0.5.1849-2017.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/anthro_so2.1849-2017.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/emissions_cmip6_v20170518/emissions.simple.so2.0.5x0.5.1849-2017.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/co2_data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/awg/input/cmip6/co2_data_2016.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="L32_gas_conc">
    <input>
      <dataFile label="input" target="INPUT/gas_conc_3D_am3p9.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/L32_gas_conc/gas_conc_3D32L_am3p9.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="L48_gas_conc">
    <input>
      <dataFile label="input" target="INPUT/gas_conc_3D_am3p9.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/L48_gas_conc/gas_conc_3D48L_am3p9.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="amip_sst_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/PCMDI_sst/CMIP6_PCMDI.186901-201612.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="climo_sst_cmip6">
    <input>
      <dataFile label="input" target="INPUT/hadisst_sst.data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/PCMDI_sst/sst.climo.1981-2014.data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/hadisst_ice.data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/PCMDI_sst/ice.climo.1981-2014.data.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="amip_sst_cmip6_v6p1">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/AMIP_SST_cmip6_v6p1/CMIP6_PCMDI.186901-201712.v6p1.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96_grid">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/c96_grid/c96_OM4_025_grid_No_mg_drag_v20160808.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/land_domain.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/c96_grid/land_domain.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96_stack_size">
    <input>
      <csh><![CDATA[
set domains_stack_size = "2097152"

# Copy AWG ascii input files to GFDL (waiting for FRE to do this for us)
if ( $?batch && ! $?FRE_STAGE ) then
  if ( $?flagOutputXferOn && $?flagOutputPostProcessOn ) then
    gcp --batch -cd -r --sync $(AWG_INPUT_HOME) gfdl:$(AWG_INPUT_HOME_GFDL)/..
  endif
endif
      ]]></csh>
    </input>
  </freInclude>

  <freInclude name="c192_LM4">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/INPUT/static_veg/19810101.static_veg_LM3p2sosn_HWSD5min_C192_OM4_025.v20160304.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/archive/mdt/awg/input/lm3/c192_OM4_025_hydrography_v20170413.tar </dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/INPUT/drag/c192_topo_rough_land.nc.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c192_grid">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(H1G_ARCHIVE_ROOT)/awg/input/grid/c192_OM4_025_grid_No_mg_drag_v20160808.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/land_domain.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_F/Thomas.Robinson/land/c192/land_domain.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c192_stack_size">
    <input>
      <csh><![CDATA[
set domains_stack_size = "3097152"
set do_ocean = "false"

# Copy AWG ascii input files to GFDL (waiting for FRE to do this for us)
if ( $?batch && ! $?FRE_STAGE ) then
  if ( $?flagOutputXferOn && $?flagOutputPostProcessOn ) then
    gcp --batch -cd -r --sync $(AWG_INPUT_HOME) gfdl:$(AWG_INPUT_HOME_GFDL)/..
  endif
endif
      ]]></csh>
    </input>
  </freInclude>

  <freInclude name="csh_adjust_dry_mass">
    <input>
      <csh type="always"><![CDATA[
pushd INPUT
#cd INPUT

# adjustment of dry mass first time only
set adjust_dry_mass = `$(AWG_INPUT_HOME)/adjust_dry_mass.csh`

# create dummy MOM6 parameter file
touch MOM_input
popd
      ]]></csh>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11_tke">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_tke</dataSource>
      </dataFile>
    </input>
  </freInclude>

<!-- yhc add new field table -->
  <freInclude name="field_table_am4p11_edmf_mynn">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11</dataSource>
      </dataFile>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_edmf_mynn</dataSource>
      </dataFile>
    </input>
  </freInclude>

<!--
  field_table with parameters for CMIP6 diagnostic output
-->
  <freInclude name="field_table_am4p11_cmip6">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_cmip6</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11_fullchem">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_fullchem</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11_fullchem_2010">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_fullchem_2010</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11_fullchem_1850">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_fullchem_1850</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="diag_table_lm3p2_fullaero">
    <input>
      <diagTable>
$name
$baseDate

      </diagTable>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_simpleSO4</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_land_old</dataSource>
      </dataFile>
    </input>
  </freInclude>

<!--
  diag_table for CMIP6 diagnostic output
-->
  <freInclude name="diag_table_lm3p2_fullaero_cmip6">
    <input>
      <diagTable>
$name
$baseDate

      </diagTable>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_cmip6</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_land</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_simpleSO4</dataSource>
      </dataFile>

<!--
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_3hr</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_6hrLev</dataSource>
      </dataFile>
-->

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_6hrPlevPt</dataSource>
      </dataFile>

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_AERmon_simple</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_Amon</dataSource>
      </dataFile>

<!-- CF3hr, no need for piControl, historical, 1%CO2, 4XCO2 CFmip
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_CF3hr</dataSource>
      </dataFile>
-->
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_CFday</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_CFmon</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_E1hrClimMon</dataSource>
      </dataFile>

<!-- E3hrPt, no need for piControl, historical, 1%CO2, 4XCO2 CFmip
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_E3hrPt</dataSource>
      </dataFile>
-->

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_Eday</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_Emon</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_LImon</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_Lmon</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_day</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_fx</dataSource>
      </dataFile>

<!-- CFsite, no need to piControl
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_CFsite</dataSource>
      </dataFile>
-->

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_global_avg</dataSource>
      </dataFile>

<!-- remove mcu, GFDL AM4/CM4 only provides net upward mass fluxes "mc". There are no upward mass fluxes
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_CFmon_aug30</dataSource>
      </dataFile>
-->
    </input>
  </freInclude>

  <freInclude name="diag_table_lm3p2_fullchem">
    <input>
      <diagTable>
$name
$baseDate

      </diagTable>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_fullchemOnly_v20140325</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_land</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="diag_table_3hourly">
    <input>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_3hourly</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="data_table_AM4">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/data_table/data_table_amip</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="data_table_co2">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/data_table/data_table_co2</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96L32_initCond_Newtopo">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/INPUT/InitCond/AWG_c96L32/topo_v20161229/awg_C96L32_LM3_OM4_025_grid_lm4p1_topo_v20161229.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96L33_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_W/Ming.Zhao/archive/mdt/awg/input/ic/AM4/awg_C96L33_LM3_OM4_025_grid_lm4p1_topo_v20170309.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

<!-- yhc add: initial conditions of the year 2000 from standarf am4p0 -->
  <freInclude name="c96L33_initCond_am4p0_yr2000">
    <input>
      <!-- source: gfdl:/archive/Charles.Seman/awg/verona/cm4p10_bronx11/c96L48_am4b6_DDFull/gfdl.ncrc3-intel-prod-openmp/restart/20080101.tar -->
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/scratch/Yi-hsuan.Chen/data/xanadu/cm4p12_am4p0_bronx18/c96L33_am4p0_donner/gfdl.ncrc4-intel19-prod-openmp/restart/20000101.tar</dataSource>
        <!--dataSource platform="$(platform)">/lustre/f1/unswept/Charles.Seman/awg/verona/cm4p10_bronx11/c96L48_am4b6_DDFull/ncrc3.intel-prod-openmp/restart/20080101.tar</dataSource-->
      </dataFile>
    </input>
  </freInclude>

<!-- yhc add: initial conditions of the year 2000 from standarf am4p0 -->
  <freInclude name="c96L33_initCond_am4p0_yr2000_864x1a">
    <input>
      <!-- source: gfdl:/archive/Charles.Seman/awg/verona/cm4p10_bronx11/c96L48_am4b6_DDFull/gfdl.ncrc3-intel-prod-openmp/restart/20080101.tar -->
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/scratch/Yi-hsuan.Chen/data/xanadu/cm4p12_am4p0_bronx18/c96L33_am4p0_donner_864x1a/gfdl.ncrc4-intel19-prod-openmp/restart/20000101.tar</dataSource>
        <!--dataSource platform="$(platform)">/lustre/f1/unswept/Charles.Seman/awg/verona/cm4p10_bronx11/c96L48_am4b6_DDFull/ncrc3.intel-prod-openmp/restart/20080101.tar</dataSource-->
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96L48_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/INPUT/InitCond/AWG_c96L48/awg_C96L48_LM3_OM4_025_grid_lm4p1_topo_v20160210.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c192L32_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/INPUT/InitCond/AWG_c192L32_newLand20160112/awg_C192L32_OM4_025_grid_lm4p1_v20161202.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c192L33_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f2/pdata/gfdl/gfdl_M/Huan.Guo/INPUT/InitCond/AWG_c192L32_newLand20160112/awg_C192L32_OM4_025_grid_lm4p1_v20170325.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

<!--================================-->
<!--= LAYOUTS FOR C96 EXPERIMENTS  =-->
<!--================================-->

<!-- yhc add -->
<freInclude name="c96_864_1thread_production">
        <resources jobWallclock="16:00:00"
                   segRuntime="1:50:00" >
               <atm ranks="864" threads="1"    layout = "6,24"    io_layout = "1,4" />
               <lnd                            layout = "6,24"    io_layout = "1,4" />
               <ocn ranks="0"   threads="0"    layout = "144,6"   io_layout = "1,3" />
               <ice                            layout = "144,6"   io_layout = "1,3" />
        </resources>
</freInclude>
<freInclude name="c96_864_basic_1thread">  <!-- using thread /= 1 causes reproducibility problem. ranks/layout = 6 -->
        <run days="8">
                <resources jobWallclock="00:40:00">
                <atm ranks="864" threads="1"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,6"    io_layout = "1,3" />
                <ice                            layout = "144,6"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>
<freInclude name="c96_864_basic_1thread_30d">  <!-- using thread /= 1 causes reproducibility problem. ranks/layout = 6 -->
        <run days="30">
                <resources jobWallclock="00:40:00">
                <atm ranks="864" threads="1"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,6"    io_layout = "1,3" />
                <ice                            layout = "144,6"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>
<!-- yhc add end -->


<freInclude name="c96_864_production">
        <resources jobWallclock="16:00:00"
                   segRuntime="1:50:00" >
               <atm ranks="432" threads="2"    layout = "3,24"    io_layout = "1,4" />
               <lnd                            layout = "3,24"    io_layout = "1,4" />
               <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
               <ice                            layout = "144,3"   io_layout = "1,3" />
        </resources>
</freInclude>

<freInclude name="c96_864_production2">
        <resources jobWallclock="16:00:00"
                   segRuntime="2:00:00" >
               <atm ranks="432" threads="2"    layout = "3,24"    io_layout = "1,4" />
               <lnd                            layout = "3,24"    io_layout = "1,4" />
               <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
               <ice                            layout = "144,3"   io_layout = "1,3" />
        </resources>
</freInclude>

<freInclude name="c96_1152_production">
        <resources jobWallclock="16:00:00"
                   segRuntime="04:00:00" >
                <atm ranks="576" threads="2"    layout = "4,24"    io_layout = "1,4" />
                <lnd                            layout = "4,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,4"   io_layout = "1,4" />
                <ice                            layout = "144,4"   io_layout = "1,4" />
        </resources>
</freInclude>

<freInclude name="c96_1728_production">
        <resources jobWallclock="16:00:00"
                   segRuntime="03:00:00" >
                <atm ranks="864" threads="2"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
        </resources>
</freInclude>

<freInclude name="c96_216_basic_1day">
        <run days="1">
                <resources jobWallclock="00:10:00">
                <atm ranks="216" threads="1"    layout = "3,12"    io_layout = "1,4" />
                <lnd                            layout = "3,12"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "72,3"    io_layout = "1,3" />
                <ice                            layout = "72,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_216_basic">
        <!--run hours="2"-->
        <run days="8">
                <resources jobWallclock="00:40:00">
                <atm ranks="216" threads="1"    layout = "3,12"    io_layout = "1,4" />
                <lnd                            layout = "3,12"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "72,3"    io_layout = "1,3" />
                <ice                            layout = "72,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_864_basic_24node">
        <run days="8">
                <resources jobWallclock="00:40:00">
                <atm ranks="432" threads="2"    layout = "3,24"    io_layout = "1,4" />
                <lnd                            layout = "3,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
                <ice                            layout = "144,3"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_864_basic_24node_30d">
        <run days="30">
                <resources jobWallclock="02:00:00">
                <atm ranks="432" threads="2"    layout = "3,24"    io_layout = "1,4" />
                <lnd                            layout = "3,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
                <ice                            layout = "144,3"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_216_rts">
        <run days="8">
                <resources jobWallclock="00:40:00">
                <atm ranks="216" threads="1"    layout = "3,12"    io_layout = "1,4" />
                <lnd                            layout = "3,12"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "72,3"    io_layout = "1,3" />
                <ice                            layout = "72,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_384_rts">
        <run days="4 4">
                <resources jobWallclock="00:40:00">
                <atm ranks="192" threads="2"    layout = "4,8"     io_layout = "1,4" />
                <lnd                            layout = "4,8"     io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "64,3"    io_layout = "1,3" />
                <ice                            layout = "64,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_432_debug">
        <run days="2">
                <resources jobWallclock="02:00:00">
                <atm ranks="432" threads="1"    layout = "3,24"    io_layout = "1,4" />
                <lnd                            layout = "3,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
                <ice                            layout = "144,3"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_432_debug_30d">
        <run days="30">
                <resources jobWallclock="04:00:00">
                <atm ranks="432" threads="1"    layout = "3,24"    io_layout = "1,4" />
                <lnd                            layout = "3,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
                <ice                            layout = "144,3"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_216_debugrts">
        <run days="2">
                <resources jobWallclock="02:00:00">
                <atm ranks="216" threads="1"    layout = "3,12"    io_layout = "1,4" />
                <lnd                            layout = "3,12"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "72,3"    io_layout = "1,3" />
                <ice                            layout = "72,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_384_debugrts">
        <run days="1 1">
                <resources jobWallclock="02:00:00">
                <atm ranks="192" threads="2"    layout = "4,8"     io_layout = "1,4" />
                <lnd                            layout = "4,8"     io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "64,3"    io_layout = "1,3" />
                <ice                            layout = "64,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_864_restart">
        <run days="4 4">
                <resources jobWallclock="00:45:00">
                <atm ranks="432" threads="2"    layout = "3,24"    io_layout = "1,4" />
                <lnd                            layout = "3,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
                <ice                            layout = "144,3"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_1152_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="576" threads="2"    layout = "4,24"    io_layout = "1,4" />
                <lnd                            layout = "4,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,4"   io_layout = "1,4" />
                <ice                            layout = "144,4"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_1728_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="864" threads="2"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_2304_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="2"   layout = "12,16"   io_layout = "1,4" />
                <lnd                            layout = "12,16"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_3456_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
                <lnd                            layout = "12,24"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,12"  io_layout = "1,4" />
                <ice                            layout = "144,12"  io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_4608_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="4"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "96,12"   io_layout = "1,4" />
                <ice                            layout = "96,12"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_6912_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="3456" threads="2"   layout = "24,24"   io_layout = "1,4" />
                <lnd                            layout = "24,24"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,24"  io_layout = "1,4" />
                <ice                            layout = "144,24"  io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_216_timing">
        <run months="1">
                <resources jobWallclock="02:00:00">
                <atm ranks="216" threads="1"    layout = "3,12"    io_layout = "1,4" />
                <lnd                            layout = "3,12"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "72,3"    io_layout = "1,3" />
                <ice                            layout = "72,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_384_timing">
        <run months="1">
                <resources jobWallclock="02:00:00">
                <atm ranks="192" threads="2"    layout = "4,8"     io_layout = "1,4" />
                <lnd                            layout = "4,8"     io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "64,3"    io_layout = "1,3" />
                <ice                            layout = "64,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_432_timing">
       <run months="1">
                <resources jobWallclock="02:00:00">
                <atm ranks="432" threads="1"    layout = "3,24"    io_layout = "1,4" />
                <lnd                            layout = "3,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
                <ice                            layout = "144,3"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_864_timing">
        <run months="1">
                <resources jobWallclock="01:00:00">
                <atm ranks="432" threads="2"    layout = "3,24"    io_layout = "1,4" />
                <lnd                            layout = "3,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,3"   io_layout = "1,3" />
                <ice                            layout = "144,3"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_1152_timing">
        <run months="1">
                <resources jobWallclock="00:45:00">
                <atm ranks="576" threads="2"    layout = "4,24"    io_layout = "1,4" />
                <lnd                            layout = "4,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,4"   io_layout = "1,4" />
                <ice                            layout = "144,4"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_1728_timing">
        <run months="1">
                <resources jobWallclock="00:34:00">
                <atm ranks="864" threads="2"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_2304_timing">
        <run months="1">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="2"   layout = "12,16"   io_layout = "1,4" />
                <lnd                            layout = "12,16"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_3456_timing">
        <run months="1">
                <resources jobWallclock="00:30:00">
                <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
                <lnd                            layout = "12,24"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,12"  io_layout = "1,4" />
                <ice                            layout = "144,12"  io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_4608_timing">
        <run months="1">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="4"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "96,12"   io_layout = "1,4" />
                <ice                            layout = "96,12"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c96_6912_timing">
        <run months="1">
                <resources jobWallclock="00:30:00">
                <atm ranks="3456" threads="2"   layout = "24,24"   io_layout = "1,4" />
                <lnd                            layout = "24,24"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,24"  io_layout = "1,4" />
                <ice                            layout = "144,24"  io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<!--================================-->
<!--= LAYOUTS FOR C192 EXPERIMENTS =-->
<!--================================-->

<freInclude name="c192_2304_production">
        <resources jobWallclock="16:00:00"
                   segRuntime="2:50:00" >
                <atm ranks="1152" threads="2"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
    </resources>
</freInclude>

<freInclude name="c192_864_basic">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="864" threads="1"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_1152_debug">
        <run days="2">
                <resources jobWallclock="03:00:00">
                <atm ranks="1152" threads="1"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_864_restart">
        <run days="4 4">
                <resources jobWallclock="00:30:00">
                <atm ranks="864" threads="1"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_1152_restart">
        <run days="4 4">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="1"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_384_scaling">
        <run days="8">
                <resources jobWallclock="01:00:00">
                <atm ranks="192" threads="2"    layout = "4,8"     io_layout = "1,4" />
                <lnd                            layout = "4,8"     io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "64,3"    io_layout = "1,3" />
                <ice                            layout = "64,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_2304_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="2"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_3456_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="864" threads="4"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_4608_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="4"   layout = "12,16"   io_layout = "1,4" />
                <lnd                            layout = "12,16"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_6912_scaling">
        <run days="8">
                <resources jobWallclock="00:30:00">
                <atm ranks="864" threads="8"    layout = "12,12"   io_layout = "1,4" />
                <lnd                            layout = "12,12"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_384_timing">
        <run months="1">
                <resources jobWallclock="03:00:00">
                <atm ranks="192" threads="2"    layout = "4,8"     io_layout = "1,4" />
                <lnd                            layout = "4,8"     io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "64,3"    io_layout = "1,3" />
                <ice                            layout = "64,3"    io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_864_timing">
        <run months="1">
                <resources jobWallclock="02:00:00">
                <atm ranks="864" threads="1"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_1152_timing">
        <run months="1">
                <resources jobWallclock="01:45:00">
                <atm ranks="1152" threads="1"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_2304_timing">
        <run months="1">
                <resources jobWallclock="00:45:00">
                <atm ranks="1152" threads="2"   layout = "8,24"    io_layout = "1,4" />
                <lnd                            layout = "8,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_3456_timing">
        <run months="1">
                <resources jobWallclock="00:45:00">
                <atm ranks="864" threads="4"    layout = "6,24"    io_layout = "1,4" />
                <lnd                            layout = "6,24"    io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_4608_timing">
        <run months="1">
                <resources jobWallclock="00:30:00">
                <atm ranks="1152" threads="4"   layout = "12,16"   io_layout = "1,4" />
                <lnd                            layout = "12,16"   io_layout = "1,4" />
                <ocn ranks="0"    threads="0"   layout = "144,8"   io_layout = "1,4" />
                <ice                            layout = "144,8"   io_layout = "1,4" />
                </resources>
        </run>
</freInclude>

<freInclude name="c192_6912_timing">
        <run months="1">
                <resources jobWallclock="00:30:00">
                <atm ranks="864" threads="8"    layout = "12,12"   io_layout = "1,4" />
                <lnd                            layout = "12,12"   io_layout = "1,4" />
                <ocn ranks="0"   threads="0"    layout = "144,6"   io_layout = "1,3" />
                <ice                            layout = "144,6"   io_layout = "1,3" />
                </resources>
        </run>
</freInclude>

<!--================================-->
<!--= TEMPLATES FOR POSTPROCESSING =-->
<!--================================-->

  <freInclude name="c96_amip_postprocess">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <component type="atmos" zInterp="era40" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="3hr" source="atmos_8xdaily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmos8xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmos4xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosMonthAve/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_AMIP_CHUNK)" calcInterval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="annual" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosAnnualAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_level" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosLevelMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" start="$(ANA_AMIP_START)" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosMonthAerAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_diurnal" start="$(ANA_AMIP_START)" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)"/>
      </component>

      <component type="atmos_scalar" start="$(ANA_AMIP_START)" source="atmos_scalar">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" start="$(ANA_AMIP_START)" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/tracerAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/tracerMonthAve/*)"/>
        </timeAverage>
      </component>

<!-- LAND -->
      <component type="land" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/landMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/landMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="land_cubic" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/landMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_instant_cubic" start="$(ANA_AMIP_START)" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>

<!-- RIVER -->
      <component type="river" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)"/>
      </component>

      <component type="river_cubic" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/riverMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/riverDailyTSNative/*)"/>
        </timeSeries>
      </component>

      <component type="river_instant_cubic" start="$(ANA_AMIP_START)" source="river_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>

    </postProcess>
  </freInclude>

  <!-- yhc: this compare model results with CERES-EBAF & GPCP from 2001 to 2014 -->
   <freInclude name="c96_amip_postprocess_EDMF">
     <postProcess>
       <component type="atmos" zInterp="era40" start="$(ANA_AMIP_START)"
                  source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
         <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)">
           <variables>
             olr olr_clr swdn_toa swup_toa swup_toa_clr
             lwdn_sfc lwdn_sfc_clr lwup_sfc lwup_sfc_clr
             swdn_sfc swdn_sfc_clr swup_sfc swup_sfc_clr
             precip
           </variables>
         </timeAverage>
         <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
           <analysis
              script="/home/Yi-hsuan.Chen/fms.ana/fre-analysis/yhc/stub/radiation_atmos_av_mon2.csh"/>
           <analysis
              script="/home/Yi-hsuan.Chen/fms.ana/fre-analysis/yhc/stub/precip_atmos_av_mon2.csh"/>
         </timeAverage>
       </component>
     </postProcess>
   </freInclude>

  <freInclude name="c96_climo_postprocess">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <component type="atmos" zInterp="era40" start="$(ANA_CLIMO_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="3hr" source="atmos_8xdaily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmos8xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmos4xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosMonthAve/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_CLIMO_CHUNK)" calcInterval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="annual" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosAnnualAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_level" start="$(ANA_CLIMO_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosLevelMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" start="$(ANA_CLIMO_START)" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosMonthAerAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_diurnal" start="$(ANA_CLIMO_START)" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)"/>
      </component>

      <component type="atmos_scalar" start="$(ANA_CLIMO_START)" source="atmos_scalar">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" start="$(ANA_CLIMO_START)" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/tracerAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/tracerMonthAve/*)"/>
        </timeAverage>
      </component>

<!-- LAND -->
      <component type="land" start="$(ANA_CLIMO_START)" source="land_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/landMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/landMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="land_cubic" start="$(ANA_CLIMO_START)" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/landMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CLIMO_CHUNK)"/>
      </component>

      <component type="land_instant_cubic" start="$(ANA_CLIMO_START)" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)" />
      </component>

<!-- RIVER -->
      <component type="river" start="$(ANA_CLIMO_START)" source="river_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)"/>
      </component>

      <component type="river_cubic" start="$(ANA_CLIMO_START)" source="river_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/riverMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/riverDailyTSNative/*)"/>
        </timeSeries>
      </component>

      <component type="river_instant_cubic" start="$(ANA_CLIMO_START)" source="river_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)" />
      </component>

    </postProcess>
  </freInclude>


<!--
  postprocessing for CMIP6 diagnostic output
-->
  <freInclude name="c96_amip_postprocess_cmip6">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_atmos_cmip6.csh"/>

      <component type="atmos_cmip" start="$(ANA_AMIP_START)" source="atmos_month_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
       <!--
        <timeSeries freq="3hr" source="atmos_8xdaily_cmip" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmos8xDailyTScmip/*)"/>
        </timeSeries>
        <timeSeries freq="3hr" source="atmos_8xdaily_inst" chunkLength="$(PP_AMIP_CHUNK)"/>
       -->

            <!-- 6hrLevPt, no data at 3 pressure levels Plev3 => no need atmos_4xdaily_cmip refineDiag -->
        <timeSeries freq="6hr" source="atmos_4xdaily_refined" chunkLength="$(PP_AMIP_CHUNK)">
          <variables>
             ta ua va rv850
          </variables>
        </timeSeries>

        <timeSeries freq="6hr" source="atmos_4xdaily_cmip" chunkLength="$(PP_AMIP_CHUNK)">
          <variables>
             rv850_unmsk psl zg500
          </variables>
        </timeSeries>

        <timeSeries freq="daily" source="atmos_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)">
          <variables>
             huss tasmin tasmax tas pr psl sfcWind hurs hursmin hursmax clt tslsi prc prsn uas vas sfcWindmax hfls hfss rlds rlus rsds rsus rlut
          </variables>
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosDailyTScmip/*)"/>
        </timeSeries>

        <timeSeries freq="monthly" source="atmos_month_refined" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthTScmip/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthAVcmip/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_AMIP_CHUNK)" calcInterval="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="atmos_cmip_2deg_daily_2D" start="$(ANA_AMIP_START)" source="atmos_daily_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
        <timeSeries freq="daily" source="atmos_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)">
          <variables>
                 <!-- diag_table_day, 2D field at both 2-deg and 1-deg resolution-->
             huss tasmin tasmax tas pr psl sfcWind hurs hursmin hursmax clt tslsi prc prsn uas vas sfcWindmax hfls hfss rlds rlus rsds rsus rlut
                 <!-- diag_table_CFday,  2D outputs at 2-deg resolution -->
             ps rsdt rsut rsdscs rsuscs rldscs rlutcs rsutcs clwvi clivi wap500 ta700_unmsk ccb cct
                     <!-- cltisccp albisccp pctisccp cltcalipso cllcalipso clmcalipso clhcalipso -->
                 <!-- diag_table_Eday,  2D outputs at 2-deg resolution -->
             rsdsdiff rsdscsdiff cldnvi ts prw
          </variables>
        </timeSeries>

        <timeSeries freq="daily" source="atmos_daily_refined" chunkLength="$(PP_AMIP_CHUNK)">
          <variables>
                 <!-- diag_table_CFday,  2D outputs at 2-deg resolution -->
             ta700
          </variables>
        </timeSeries>
      </component>

      <component type="atmos_cmip_2deg_daily_3D" start="$(ANA_AMIP_START)" source="atmos_daily_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
            <!-- diag_table_day, at plev19 -->
        <timeSeries freq="daily" source="atmos_daily_refined" chunkLength="$(PP_AMIP_CHUNK)">
          <variables>
             hur hus ta ua va wap albs
          </variables>
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosDaily3DTScmip/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
      </component>

      <component type="atmos" zInterp="era40" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="off">
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmos4xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthAV/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_AMIP_CHUNK)" calcInterval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="annual" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosAnnualAV/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_level_cmip" start="$(ANA_AMIP_START)" source="atmos_level_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- 6hrLev (model level) not requested for piControl
      <component type="atmos_level_cmip_2deg_6hr" start="$(ANA_AMIP_START)" source="atmos_level_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
             6hrLev, at native model vertical levels (i.e., 33 levels)
        <timeSeries freq="6hr" source="atmos_4xdaily_inst" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
-->

      <component type="atmos_level_cmip_2deg_daily" start="$(ANA_AMIP_START)" source="atmos_level_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
            <!-- diag_table_CFday,  3D native model vertical level (33 levels) outputs -->
        <timeSeries freq="daily" source="atmos_level_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)">
          <variables>
             ua va ta hus wap zg hur cl clw cli mc
          </variables>
        </timeSeries>
      </component>

      <component type="atmos_level" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="off">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosLevelMonthAV/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" start="$(ANA_AMIP_START)" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1"  cmip="on">
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthAerAV/*)"/>
        </timeAverage>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="atmos_diurnal_cmip" start="$(ANA_AMIP_START)"  source="atmos_diurnal_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="atmos_diurnal" start="$(ANA_AMIP_START)" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="atmos_scalar" start="$(ANA_AMIP_START)" source="atmos_scalar" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" source="atmos_global_cmip" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" start="$(ANA_AMIP_START)" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/tracerAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/tracerMonthAV/*)"/>
        </timeAverage>
      </component>

      <component type="aerosol_cmip" start="$(ANA_AMIP_START)" source="aerosol_month_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" source="aerosol_month_refined"/>
      </component>

      <component type="aerosol_cmip_2deg" start="$(ANA_AMIP_START)" source="aerosol_daily_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="daily" source="aerosol_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- LAND -->
      <component type="land" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="off">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/landMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/landMonthAV/*)"/>
        </timeAverage>
      </component>

      <component type="land_cubic" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere" cmip="off">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/landMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_instant_cubic" start="$(ANA_AMIP_START)" source="land_month_inst" sourceGrid="land-cubedsphere" cmip="off">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>

      <component type="land_cmip" start="$(ANA_AMIP_START)" source="land_month_cmip" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="daily" source="land_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_cmip_2deg" start="$(ANA_AMIP_START)" source="land_month_cmip" sourceGrid="land-cubedsphere" xyInterp="90,144" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="daily" source="land_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- RIVER -->
      <component type="river" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="river_cubic" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere" cmip="off">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/riverMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/riverDailyTSNative/*)"/>
        </timeSeries>
      </component>

      <component type="river_instant_cubic" start="$(ANA_AMIP_START)" source="river_month_inst" sourceGrid="land-cubedsphere" cmip="off">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>

<!--
      <component type="land_month_past" start="$(ANA_AMIP_START)" source="land_month_past" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="land_month_inst_past" start="$(ANA_AMIP_START)" source="land_month_inst_past" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_month_crop" start="$(ANA_AMIP_START)" source="land_month_crop" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="land_month_inst_crop" start="$(ANA_AMIP_START)" source="land_month_inst_crop" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_month_ntrl" start="$(ANA_AMIP_START)" source="land_month_ntrl" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="land_month_inst_ntrl" start="$(ANA_AMIP_START)" source="land_month_inst_ntrl" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_month_scnd" start="$(ANA_AMIP_START)" source="land_month_scnd" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="land_month_inst_scnd" start="$(ANA_AMIP_START)" source="land_month_inst_scnd" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="LUmip_month_psl" start="$(ANA_AMIP_START)" source="lumip_Lmon_psl" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="LUmip_month_crp" start="$(ANA_AMIP_START)" source="lumip_Lmon_crp" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="LUmip_month_pst" start="$(ANA_AMIP_START)" source="lumip_Lmon_pst" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="LUmip_year_psl" start="$(ANA_AMIP_START)" source="lumip_Lyr_psl" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" source="lumip_Lyr"  chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="LUmip_year_crp" start="$(ANA_AMIP_START)" source="lumip_Lyr_crp" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
      <component type="LUmip_year_pst" start="$(ANA_AMIP_START)" source="lumip_Lyr_pst" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>
-->

    </postProcess>
  </freInclude>


  <freInclude name="c192_amip_postprocess">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <component type="atmos" zInterp="era40" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="3hr" source="atmos_8xdaily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmos8xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmos4xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosMonthAve/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_AMIP_CHUNK)" calcInterval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="annual" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosAnnualAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_level" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosLevelMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" start="$(ANA_AMIP_START)" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/atmosMonthAerAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_diurnal" start="$(ANA_AMIP_START)" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)"/>
      </component>

      <component type="atmos_scalar" start="$(ANA_AMIP_START)" source="atmos_scalar">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" start="$(ANA_AMIP_START)" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/tracerAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/tracerMonthAve/*)"/>
        </timeAverage>
      </component>

<!-- LAND -->
      <component type="land" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/landMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/landMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="land_cubic" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/landMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_instant_cubic" start="$(ANA_AMIP_START)" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>

<!-- RIVER -->
      <component type="river" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)"/>
      </component>

      <component type="river_cubic" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/riverMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip.xml" xpointer="xpointer(*/riverDailyTSNative/*)"/>
        </timeSeries>
      </component>

      <component type="river_instant_cubic" start="$(ANA_AMIP_START)" source="river_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>

    </postProcess>
  </freInclude>

  <freInclude name="c192_climo_postprocess">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <component type="atmos" zInterp="era40" start="$(ANA_CLIMO_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="3hr" source="atmos_8xdaily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmos8xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmos4xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosMonthAve/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_CLIMO_CHUNK)" calcInterval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="annual" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosAnnualAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_level" start="$(ANA_CLIMO_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosLevelMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" start="$(ANA_CLIMO_START)" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/atmosMonthAerAve/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_diurnal" start="$(ANA_CLIMO_START)" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)"/>
      </component>

      <component type="atmos_scalar" start="$(ANA_CLIMO_START)" source="atmos_scalar">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" start="$(ANA_CLIMO_START)" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/tracerAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/tracerMonthAve/*)"/>
        </timeAverage>
      </component>

<!-- LAND -->
      <component type="land" start="$(ANA_CLIMO_START)" source="land_month" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/landMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/landMonthAve/*)"/>
        </timeAverage>
      </component>

      <component type="land_cubic" start="$(ANA_CLIMO_START)" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/landMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CLIMO_CHUNK)"/>
      </component>

      <component type="land_instant_cubic" start="$(ANA_CLIMO_START)" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)" />
      </component>

<!-- RIVER -->
      <component type="river" start="$(ANA_CLIMO_START)" source="river_month" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_CLIMO_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_CLIMO_LEN)"/>
      </component>

      <component type="river_cubic" start="$(ANA_CLIMO_START)" source="river_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/riverMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_CLIMO_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_climo.xml" xpointer="xpointer(*/riverDailyTSNative/*)"/>
        </timeSeries>
      </component>

      <component type="river_instant_cubic" start="$(ANA_CLIMO_START)" source="river_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CLIMO_CHUNK)" />
      </component>

    </postProcess>
  </freInclude>





<!--
  postprocessing for CMIP6 diagnostic output
-->
  <freInclude name="c192_amip_postprocess_cmip6">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_atmos_cmip6.csh"/>

      <component type="atmos_cmip" start="$(ANA_AMIP_START)" source="atmos_month_cmip" sourceGrid="atmos-cubedsphere" xyInterp="360,576" cmip="yes">
        <timeSeries freq="3hr" source="atmos_8xdaily_cmip" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmos8xDailyTScmip/*)"/>
        </timeSeries>
        <timeSeries freq="3hr" source="atmos_8xdaily_inst" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="6hr" source="atmos_4xdaily_cmip" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="daily" source="atmos_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosDailyTScmip/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily_refined" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthTScmip/*)"/>
        </timeSeries>
        <timeSeries freq="monthly" source="atmos_month_refined" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthAVcmip/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_AMIP_CHUNK)" calcInterval="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="atmos" zInterp="era40" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmos4xDailyTS/*)"/>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthAV/*)"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_AMIP_CHUNK)" calcInterval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="annual" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosAnnualAV/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_level" start="$(ANA_AMIP_START)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosLevelMonthAV/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" start="$(ANA_AMIP_START)" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/atmosMonthAerAV/*)"/>
        </timeAverage>
      </component>

      <component type="atmos_diurnal" start="$(ANA_AMIP_START)" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)"/>
      </component>

      <component type="atmos_scalar" start="$(ANA_AMIP_START)" source="atmos_scalar" cmip="yes">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" start="$(ANA_AMIP_START)" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/tracerAnnualTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/tracerMonthAV/*)"/>
        </timeAverage>
      </component>

      <component type="aerosol_cmip" start="$(ANA_AMIP_START)" source="aerosol_month_cmip" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1" cmip="yes">
        <timeSeries freq="daily" source="aerosol_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" source="aerosol_month_refined"/>
        <timeSeries freq="annual" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- LAND -->
      <component type="land" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/landMonthTS/*)"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/landMonthAV/*)"/>
        </timeAverage>
      </component>

      <component type="land_cubic" start="$(ANA_AMIP_START)" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" >
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/landMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
      </component>

      <component type="land_instant_cubic" start="$(ANA_AMIP_START)" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>

      <component type="land_cmip" start="$(ANA_AMIP_START)" source="land_month_cmip" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1" cmip="yes">
        <timeSeries freq="daily" source="land_daily_cmip" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
      </component>

<!-- RIVER -->
      <component type="river" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(PP_AMIP_CHUNK)"/>
        <timeAverage source="monthly" interval="$(ANA_AMIP_LEN)"/>
      </component>

      <component type="river_cubic" start="$(ANA_AMIP_START)" source="river_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/riverMonthTSNative/*)"/>
        </timeSeries>
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_AMIP_CHUNK)">
          <xi:include href="awg_include/analysis/analysis_amip_cmip.xml" xpointer="xpointer(*/riverDailyTSNative/*)"/>
        </timeSeries>
      </component>

      <component type="river_instant_cubic" start="$(ANA_AMIP_START)" source="river_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_AMIP_CHUNK)" />
      </component>
    </postProcess>
  </freInclude>

<!--====================-->
<!--= AMIP EXPERIMENTS =-->
<!--====================-->

  <experiment name="c96L33_am4p0_donner" inherit="$(FMS_COMP_EXP)">
<!-- MDBI -->
    <publicMetadata DBswitch="$(MDBIswitch)">
      <realization r="1" i="1" p="1"/>
      <project>$(ProjectID)</project>
      <model>am4p0</model>
      <modelID>am4p0</modelID>
      <experimentName>$(name)</experimentName>
      <experimentID>$(name)</experimentID>
      <comment>
Experiment name = $(name)
      </comment>
      <forcing>N/A</forcing>
      <startTime>$(EXP_AMIP_START)</startTime>
      <endTime>$(EXP_AMIP_END)</endTime>
      <parentExperimentID>N/A</parentExperimentID>
      <parentExperimentRIP>N/A</parentExperimentRIP>
      <branchTime>0.0</branchTime>
    </publicMetadata>
<!-- /MDBI -->
<description>
</description>
    <input>
      <namelist name="atmos_model_nml">
         nxblocks = 1
         nyblocks = $atm_threads
      </namelist>
      <!-- Namelist -->
      <namelist file="$(AWG_INPUT_HOME)/nml/ocean_g12.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_c96L33.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_amip.nml"/>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1979,1,1,0,0,0,
        calendar = 'julian'
        dt_atmos = 1800,
        dt_cpld  = 7200,
        use_lag_fluxes = .true.
        concurrent = .false.
        do_ocean = .false.
        ocean_npes = $ocn_ranks
        atmos_npes = $atm_ranks
        atmos_nthreads = $atm_threads
        use_hyper_thread = $ht
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>

      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_TimeSeries_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_cmip6_v20161213']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='amip_sst_cmip6']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='data_table_AM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='data_table_co2']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96_grid']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_stack_size']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='csh_adjust_dry_mass']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>

    </input>

    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_production']/node())"/>
      </production>
      <regression name="debug">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_debug']/node())"/>
      </regression>
      <regression name="basic">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_basic']/node())"/>
      </regression>
      <regression name="basic_24node">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_basic_24node']/node())"/>
      </regression>
      <regression name="basic_24node_30d">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_basic_24node_30d']/node())"/>
      </regression>
      <regression name="debug_30d">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_debug_30d']/node())"/>
      </regression>
      <regression name="basic_864_1thread">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_basic_1thread']/node())"/>
      </regression>
      <regression name="basic_864_1thread_30d">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_basic_1thread_30d']/node())"/>
      </regression>
      <regression name="rts">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_rts']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_384_rts']/node())"/>
      </regression>
      <regression name="debugrts">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_debugrts']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_384_debugrts']/node())"/>
      </regression>
      <regression name="restart">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_restart']/node())"/>
      </regression>
      <regression name="scaling">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_1152_scaling']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_1728_scaling']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_2304_scaling']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_3456_scaling']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_4608_scaling']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_6912_scaling']/node())"/>
      </regression>
      <regression name="timing">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_384_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_1152_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_1728_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_2304_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_3456_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_4608_timing']/node())"/>
          <xi:include xpointer="xpointer(//freInclude[@name='c96_6912_timing']/node())"/>
      </regression>

    </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess']/postProcess/node())"/>
    </postProcess>
  </experiment>

<!--=============================-->
<!--== Donner Lite experiments ==-->
<!--=============================-->

  <experiment name="c96L33_am4b6_DDLite" inherit="$(FMS_COMP_EXP)">
<!-- MDBI -->
    <publicMetadata DBswitch="$(MDBIswitch)">
      <realization r="1" i="1" p="1"/>
      <project>$(ProjectID)</project>
      <model>am4p0</model>
      <modelID>am4p0</modelID>
      <experimentName>$(name)</experimentName>
      <experimentID>$(name)</experimentID>
      <comment>
       Experiment name = $(name)
      </comment>
      <forcing>N/A</forcing>
      <startTime>$(EXP_AMIP_START)</startTime>
      <endTime>$(EXP_AMIP_END)</endTime>
      <parentExperimentID>N/A</parentExperimentID>
      <parentExperimentRIP>N/A</parentExperimentRIP>
      <branchTime>0.0</branchTime>
    </publicMetadata>
<!-- /MDBI -->
    <description>
AM4 "cm4p12_xanadu" prototype configuration "c96L33_am4p0_donner" updated using verona model in
/ncrc/home2/Charles.Seman/awg/verona/xml_bronx11/awg_v20160510_bronx11_MDTF.xml

c96 horizontal grid with approximately 100km resolution and 33 vertical levels.
Convection based on hybrid "alternate closure" from Leo Donner

- cloud_generator_nml   : overlapLengthScale = 1. (same value as used in tikal_201403 c96L48_am4b2r1)
- cloud_spec_nml        : cloud_type_form = 'stratdeepuw'
- convection_driver_nml : cmt_mass_flux_source = 'all'
- convection_driver_nml : force_donner_moist_conserv = .true.
- convection_driver_nml : force_donner_moist_conserv = .true.
- convection_driver_nml : do_donner_conservation_checks = .true.
- convection_driver_nml : do_limit_donner = .true.
- convection_driver_nml : do_donner_before_uw = .true.
- convection_driver_nml : do_donner_mca = .false.
- deep_conv_nml         : auto_th0_d = 0.35e-3
- deep_conv_nml         : tcrit_d = -38.0
- deep_conv_nml         : rkm_dp1= 2.
- donner_deep_nml       : donner_deep_freq = 1800
- donner_deep_nml       : model_levels_in_sfcbl = 5
- donner_deep_nml       : do_donner_cape    = .false.
- donner_deep_nml       : do_donner_plume   = .false.
- donner_deep_nml       : do_donner_closure = .false.
- donner_deep_nml       : do_dcape = .true.
- donner_deep_nml       : do_freezing_for_cape = .true.
- donner_deep_nml       : do_freezing_for_closure = .true.
- donner_deep_nml       : lochoice          = 10
- donner_deep_nml       : EVAP_IN_DOWNDRAFTS  = 0.00
- donner_deep_nml       : EVAP_IN_ENVIRON     = 0.00
- donner_deep_nml       : ENTRAINED_INTO_MESO = 1.00
- donner_deep_nml       : ANVIL_PRECIP_EFFICIENCY = 0.55
- donner_deep_nml       : MESO_DOWN_EVAP_FRACTION = 0.4
- donner_deep_nml       : MESO_UP_EVAP_FRACTION   = 0.05
- donner_deep_nml       : erat =  1.04, 1.30, 1.80, 2.50, 3.3, 4.50, 10.0
- entrain_nml           : convect_shutoff = .true. (same as in c96L33_am4p0_donner)
- entrain_nml           : beta_rad = 0.3
- lscloud_driver_nml    : do_legacy_strat_cloud = .false.
- lscloud_driver_nml    : aerosol_activation_scheme = "dqa"
- mg_drag_nml           : gmax = 1.5
- mg_drag_nml           : flux_cut_level = 30.e2
- moist_processes_nml   : do_lsc = .false.
- moist_processes_nml   : do_mca = .false.
- moist_processes_nml   : do_ras = .false.
- moist_processes_nml   : do_donner_deep = .true.
- moist_processes_nml   : do_diag_clouds = .false.
- moist_processes_nml   : do_rh_clouds = .false.
- moist_processes_nml   : limit_conv_cloud_frac = .true.
- moist_processes_nml   : include_donmca_in_cosp = .false.
- moist_processes_nml   : use_online_aerosol = .true.
- moist_processes_nml   : use_sub_seasalt = .false.
- ocean_rough_nml       : rough_scheme = 'beljaars'
- physics_driver_nml    : do_liq_num = .true.
- physics_driver_nml    : n_land = 150.e6
- physics_driver_nml    : n_ocean = 50.e6
- strat_cloud_nml       : vfact = 1.1
- strat_cloud_nml       : var_limit = 0.7
- uw_closure_nml        : do_old_cbmfmax = .true. (same as in c96L33_am4p0_donner)
- uw_conv_nml           : rkm_sh = 3.0
- uw_conv_nml           : lochoice = 0
- uw_conv_nml           : do_deep = .false.
- uw_conv_nml           : idpchoice = 1
- uw_plume_nml          : auto_th0 = 1.0e-3
- uw_plume_nml          : tcrit = -110.0
- uw_plume_nml          : do_pdfpcp = .true.
- uw_plume_nml          : mp_choice = 1

For more information about AWG configurations, refer to
http://cobweb.gfdl.noaa.gov/~cjg/awg

    </description>
    <input>
      <namelist name="atmos_model_nml">
         nxblocks = 1
         nyblocks = $atm_threads
      </namelist>
      <!-- Namelist -->
      <namelist file="$(AWG_INPUT_HOME)/nml/ocean_g12.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4b6_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4b6_c96L33.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_amip.nml"/>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1979,1,1,0,0,0,
        calendar = 'julian'
        dt_atmos = 1800,
        dt_cpld  = 7200,
        use_lag_fluxes = .true.
        concurrent = .false.
        do_ocean = .false.
        ocean_npes = $ocn_ranks
        atmos_npes = $atm_ranks
        atmos_nthreads = $atm_threads
        use_hyper_thread = $ht
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>
      <namelist name="river_physics_nml">
        lake_sfc_w_min = 10.
        prohibit_cold_ice_outflow = .FALSE.
      </namelist>
      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_TimeSeries_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_cmip6_v20161213']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='amip_sst_cmip6']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='data_table_AM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='data_table_co2']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96_grid']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_stack_size']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='csh_adjust_dry_mass']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
    </input>

    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_production']/node())"/>
      </production>
      <regression name="debug">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_debug']/node())"/>
      </regression>
      <regression name="basic">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_basic']/node())"/>
      </regression>
    </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess']/postProcess/node())"/>
    </postProcess>

  </experiment>

<!--=============================-->
<!--== Donner Full experiments ==-->
<!--=============================-->

  <experiment name="c96L48_am4b6_DDFull" inherit="$(FMS_COMP_EXP)">
<!-- MDBI -->
    <publicMetadata DBswitch="$(MDBIswitch)">
      <realization r="1" i="1" p="1"/>
      <project>$(ProjectID)</project>
      <model>am4p0</model>
      <modelID>am4p0</modelID>
      <experimentName>$(name)</experimentName>
      <experimentID>$(name)</experimentID>
      <comment>
       Experiment name = $(name)
      </comment>
      <forcing>N/A</forcing>
      <startTime>$(EXP_AMIP_START)</startTime>
      <endTime>$(EXP_AMIP_END)</endTime>
      <parentExperimentID>N/A</parentExperimentID>
      <parentExperimentRIP>N/A</parentExperimentRIP>
      <branchTime>0.0</branchTime>
    </publicMetadata>
<!-- /MDBI -->
    <description>
AM4 AMIP hybrid configuration with convection based on activation of Donner Full scheme

AM4 "cm4p12_xanadu" prototype configuration "c96L33_am4p0_donner" updated using verona model in
/ncrc/home2/Charles.Seman/awg/verona/xml_bronx11/awg_v20160510_bronx11_MDTF.xml and runscript
/ncrc/home2/Charles.Seman/awg/verona/xml_bronx11/scripts/ncrc3.intel-prod-openmp/run/c96L48_am4b6_DDFull

The following are differences in selected namelist variables between experiments c96L33_am4p0_donner and current experiment; compare:
/ncrc/home2/Charles.Seman/awg/xanadu/xml_xanadu_donner/scripts/ncrc3.intel-prod-openmp/run/c96L33_am4p0_donner_donner_1x0m8d_216x1a
/ncrc/home2/Charles.Seman/awg/xanadu/xml_xanadu_donner/scripts/ncrc3.intel-prod-openmp/run/c96L48_am4b6_DDFull_1x0m8d_216x1a

- cloud_generator_nml   : overlapLengthScale = 1. (same value as used in tikal_201403 c96L48_am4b2r1)
- cloud_spec_nml        : cloud_type_form = 'stratdeepuw'
- convection_driver_nml : cmt_mass_flux_source = 'all'
- convection_driver_nml : force_donner_moist_conserv = .true.
- convection_driver_nml : force_donner_moist_conserv = .true.
- convection_driver_nml : do_donner_conservation_checks = .true.
- convection_driver_nml : do_limit_donner = .true.
- convection_driver_nml : do_donner_before_uw = .true.
- convection_driver_nml : do_donner_mca = .false.
- deep_conv_nml         : auto_th0_d = 0.35e-3
- deep_conv_nml         : tcrit_d = -38.0
- deep_conv_nml         : rkm_dp1= 2.
- donner_deep_nml       : donner_deep_freq = 1800
- donner_deep_nml       : model_levels_in_sfcbl = 0
- donner_deep_nml       : do_donner_cape    = .true.
- donner_deep_nml       : do_donner_plume   = .true.
- donner_deep_nml       : do_donner_closure = .true.
- donner_deep_nml       : do_dcape = .false.
- donner_deep_nml       : do_freezing_for_cape = .false.
- donner_deep_nml       : do_freezing_for_closure = .false.
- donner_deep_nml       : lochoice          = 2
- donner_deep_nml       : EVAP_IN_DOWNDRAFTS  = 0.25
- donner_deep_nml       : EVAP_IN_ENVIRON     = 0.13
- donner_deep_nml       : ENTRAINED_INTO_MESO = 0.62
- donner_deep_nml       : ANVIL_PRECIP_EFFICIENCY = 0.5
- donner_deep_nml       : MESO_DOWN_EVAP_FRACTION = 0.4
- donner_deep_nml       : MESO_UP_EVAP_FRACTION   = 0.1
- donner_deep_nml       : erat =  1.04, 1.31, 1.62, 1.97, 2.29, 2.86, 4.10
- entrain_nml           : convect_shutoff = .true. (same as in c96L33_am4p0_donner)
- entrain_nml           : beta_rad = 0.3
- lscloud_driver_nml    : do_legacy_strat_cloud = .false.
- lscloud_driver_nml    : aerosol_activation_scheme = "dqa"
- mg_drag_nml           : gmax = 2.0
- mg_drag_nml           : flux_cut_level = 30.e2
- moist_processes_nml   : do_lsc = .false.
- moist_processes_nml   : do_mca = .false.
- moist_processes_nml   : do_ras = .false.
- moist_processes_nml   : do_donner_deep = .true.
- moist_processes_nml   : do_diag_clouds = .false.
- moist_processes_nml   : do_rh_clouds = .false.
- moist_processes_nml   : limit_conv_cloud_frac = .true.
- moist_processes_nml   : include_donmca_in_cosp = .false.
- moist_processes_nml   : use_online_aerosol = .true.
- moist_processes_nml   : use_sub_seasalt = .false.
- ocean_rough_nml       : rough_scheme = 'beljaars'
- physics_driver_nml    : do_liq_num = .true.
- physics_driver_nml    : n_land = 300.e6
- physics_driver_nml    : n_ocean = 100.e6
- strat_cloud_nml       : U00 = 0.80
- strat_cloud_nml       : U00_profile = .true.
- strat_cloud_nml       : rthresh = 10.0
- strat_cloud_nml       : Dmin = 1.0e-07
- strat_cloud_nml       : diff_thresh = 0.1
- strat_cloud_nml       : mc_thresh = 0.001
- strat_cloud_nml       : eros_scale = 1.e-7
- strat_cloud_nml       : eros_choice = .true.
- strat_cloud_nml       : eros_scale_c = 3.e-6
- strat_cloud_nml       : eros_scale_t = 3.e-7
- strat_cloud_nml       : super_choice = .true.
- strat_cloud_nml       : tracer_advec = .true.
- strat_cloud_nml       : vfact = 0.8
- strat_cloud_nml       : cfact = 1.0
- strat_cloud_nml       : use_kk_auto = .false.
- strat_cloud_nml       : var_limit = 0.7
- strat_cloud_nml       : num_mass_ratio1 = 1.0
- strat_cloud_nml       : num_mass_ratio2 = 0.
- uw_closure_nml        : do_old_cbmfmax = .true. (same as in c96L33_am4p0_donner)
- uw_conv_nml           : rkm_sh = 5.7
- uw_conv_nml           : lochoice = 0
- uw_conv_nml           : do_deep = .false.
- uw_conv_nml           : idpchoice = 1
- uw_plume_nml          : auto_th0 = 0.5e-3
- uw_plume_nml          : tcrit = -110.0
- uw_plume_nml          : do_pdfpcp = .true.
- uw_plume_nml          : mp_choice = 1

For more information about AWG configurations, refer to
http://cobweb.gfdl.noaa.gov/~cjg/awg

    </description>
    <input>
      <namelist name="atmos_model_nml">
         nxblocks = 1
         nyblocks = $atm_threads
      </namelist>
      <!-- Namelist -->
      <namelist file="$(AWG_INPUT_HOME)/nml/ocean_g12.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4b6_DDfull_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4b6_DDfull_c96L48.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_amip.nml"/>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1979,1,1,0,0,0,
        calendar = 'julian'
        dt_atmos = 1800,
        dt_cpld  = 7200,
        use_lag_fluxes = .true.
        concurrent = .false.
        do_ocean = .false.
        ocean_npes = $ocn_ranks
        atmos_npes = $atm_ranks
        atmos_nthreads = $atm_threads
        use_hyper_thread = $ht
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>
      <namelist name="river_physics_nml">
        lake_sfc_w_min = 10.
        prohibit_cold_ice_outflow = .FALSE.
      </namelist>
      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_TimeSeries_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_cmip6_v20161213']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='L48_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='amip_sst_cmip6']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='data_table_AM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='data_table_co2']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96_grid']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_stack_size']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='csh_adjust_dry_mass']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96L48_initCond']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
    </input>

    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_production2']/node())"/>
      </production>
      <regression name="debug">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_debug']/node())"/>
      </regression>
      <regression name="basic">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_basic']/node())"/>
      </regression>
    </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess']/postProcess/node())"/>
    </postProcess>

  </experiment>

  <experiment name="c96L48_am4b6_DDFull_lake_sfc_w_min1" inherit="c96L48_am4b6_DDFull">
    <description>
Same as c96L48_am4b6_DDFull but with river_physics_nml parameter lake_sfc_w_min = 1.
    </description>
    <input>
      <namelist name="river_physics_nml">
        lake_sfc_w_min = 1.
        prohibit_cold_ice_outflow = .FALSE.
      </namelist>
    </input>
  </experiment>

  <experiment name="c96L33_am4b6_DDFull" inherit="$(FMS_COMP_EXP)">
<!-- MDBI -->
    <publicMetadata DBswitch="$(MDBIswitch)">
      <realization r="1" i="1" p="1"/>
      <project>$(ProjectID)</project>
      <model>am4p0</model>
      <modelID>am4p0</modelID>
      <experimentName>$(name)</experimentName>
      <experimentID>$(name)</experimentID>
      <comment>
       Experiment name = $(name)
      </comment>
      <forcing>N/A</forcing>
      <startTime>$(EXP_AMIP_START)</startTime>
      <endTime>$(EXP_AMIP_END)</endTime>
      <parentExperimentID>N/A</parentExperimentID>
      <parentExperimentRIP>N/A</parentExperimentRIP>
      <branchTime>0.0</branchTime>
    </publicMetadata>
<!-- /MDBI -->
    <description>
Like c96L48_am4b6_DDFull but with 33 levels like c96L33_am4p0_donner
    </description>
    <input>
      <namelist name="atmos_model_nml">
         nxblocks = 1
         nyblocks = $atm_threads
      </namelist>
      <!-- Namelist -->
      <namelist file="$(AWG_INPUT_HOME)/nml/ocean_g12.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4b6_DDfull_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4b6_DDfull_c96L33.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p0_amip.nml"/>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1979,1,1,0,0,0,
        calendar = 'julian'
        dt_atmos = 1800,
        dt_cpld  = 7200,
        use_lag_fluxes = .true.
        concurrent = .false.
        do_ocean = .false.
        ocean_npes = $ocn_ranks
        atmos_npes = $atm_ranks
        atmos_nthreads = $atm_threads
        use_hyper_thread = $ht
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>
      <namelist name="river_physics_nml">
        lake_sfc_w_min = 10.
        prohibit_cold_ice_outflow = .FALSE.
      </namelist>
      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_TimeSeries_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_cmip6_v20161213']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='amip_sst_cmip6']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='data_table_AM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='data_table_co2']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96_grid']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_stack_size']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='csh_adjust_dry_mass']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
    </input>

    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_production2']/node())"/>
      </production>
      <regression name="debug">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_debug']/node())"/>
      </regression>
      <regression name="basic">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_basic']/node())"/>
      </regression>
    </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess']/postProcess/node())"/>
    </postProcess>

  </experiment>

<!--===============================-->
<!--== Mellor-Yamada experiments ==-->
<!--===============================-->

  <experiment name="c96L33_am4p0_donner_my25" inherit="c96L33_am4p0_donner">
    <description>
Mellor-Yamada experiment; same as c96L33_am4p0_donner but vert_turb_driver_nml has:
       do_mellor_yamada = .true.
       do_entrain       = .false.
and no TKE turbulence (this is default)
    </description>
    <input>
      <namelist name="vert_turb_driver_nml">
         gust_scheme      = 'beljaars',
         do_mellor_yamada = .true.,
         do_entrain       = .false.,
         do_edt           = .false.,
         do_diffusivity   = .false.,
         do_stable_bl     = .true.,
         do_shallow_conv  = .false.
      </namelist>
    </input>
    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_production']/node())"/>
      </production>
      <regression name="basic">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_basic']/node())"/>
      </regression>
      <regression name="debug_30d">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_debug_30d']/node())"/>
      </regression>
    </runtime>
    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess']/postProcess/node())"/>
    </postProcess>
  </experiment>

  <experiment name="c96L33_am4p0_donner_my25_tune1" inherit="c96L33_am4p0_donner_my25">
    <description>
Mellor-Yamada tuning experiment; same as c96L33_am4p0_donner_my25 but with namelist changes:
     aerosol_cloud_nml:
       var_limit = 0.2
     rotstayn_klein_mp_nml:
       vfact = 1.3
     uw_plume_nml:
       auto_th0 = 1.2e-03
    </description>
    <input>
      <namelist name="aerosol_cloud_nml">
         var_limit = 0.2
      </namelist>
      <namelist name="rotstayn_klein_mp_nml">
         rk_act_only_if_ql_gt_qmin = .true.
         include_homogeneous_for_wetdep = .false.
         include_adjustment_for_wetdep = .true.
         num_mass_ratio1 = 1.0
         num_mass_ratio2 = 0.
         rthresh = 8.5
         U_evap_snow = 1.0
         vfact = 1.3
      </namelist>
      <namelist name="uw_plume_nml">
         r_thresh = 10.
         auto_th0 = 1.2e-3
         tcrit    = -25.15
         peff_l   = 6.0e-5
         peff_i   = 11.e-5
         frac_drs = 0.5
         rpen     = 4.0
         wmin     = 0.5
         deltaqc0 = 0.5e-3
         do_pdfpcp= .false.
         do_pmadjt= .true.
         do_emmax = .true.
         do_pnqv  = .true.
         mixing_assumption = 6
 	 scaleh0  = 1000.
         beta = 0.0
         rkm_max = 15
         mp_choice = 3
         do_pevap = .true.
         do_new_pblfac = .true.
         include_emf_s = .false.
         cfrac    = 0.15
         hcevap   = 0.85
         hcevappbl = 0.95
         pblfac   = 1.0
         emfrac_max = 0.25
         rmaxfrac = 0.1
         do_limit_wmax = .true.
         do_limit_fdr  = .true.
         wmax = 20.
         do_tten_max = .false.
         tten_max = 1000
         bigc = 0.0
         nom_ratio = 0.7
      </namelist>
    </input>
  </experiment>

  <experiment name="c96L33_am4p0_donner_my25_print" inherit="c96L33_am4p0_donner_my25">
    <description>
Mellor-Yamada debug experiment; same as c96L33_am4p0_donner_my25, but with printouts
in subroutine my25_turb of pfull, zfull, and theta for a vertical column (my25_turb.F90
was modified to do this)
    </description>
    <input>
      <namelist name="my25_turb_nml">
         do_printouts = .true.
      </namelist>
    </input>
  </experiment>

<!--================================-->
<!--== TKE Turbulence experiments ==-->
<!--================================-->

  <experiment name="c96L33_am4p0_donner_tke_turb" inherit="c96L33_am4p0_donner">
    <description>
TKE Turbulence experiment; same as c96L33_am4p0_donner but with namelist changes:
     vert_turb_driver_nml:
       do_mellor_yamada = .false.
       do_entrain = .false.
       do_tke_turb = .true.
     aerosol_cloud_nml:
       var_limit = 0.2
     rotstayn_klein_mp_nml:
       vfact = 1.3
     uw_plume_nml:
       auto_th0 = 1.2e-03
    </description>
    <input>
      <namelist name="vert_turb_driver_nml">
         gust_scheme      = 'beljaars',
         do_tke_turb      = .true.,
         do_mellor_yamada = .false.,
         do_entrain       = .false.,
         do_edt           = .false.,
         do_diffusivity   = .false.,
         do_stable_bl     = .true.,
         do_shallow_conv  = .false.
      </namelist>
      <namelist name="aerosol_cloud_nml">
         var_limit = 0.2
      </namelist>
      <namelist name="rotstayn_klein_mp_nml">
         rk_act_only_if_ql_gt_qmin = .true.
         include_homogeneous_for_wetdep = .false.
         include_adjustment_for_wetdep = .true.
         num_mass_ratio1 = 1.0
         num_mass_ratio2 = 0.
         rthresh = 8.5
         U_evap_snow = 1.0
         vfact = 1.3
      </namelist>
      <namelist name="uw_plume_nml">
         r_thresh = 10.
         auto_th0 = 1.2e-3
         tcrit    = -25.15
         peff_l   = 6.0e-5
         peff_i   = 11.e-5
         frac_drs = 0.5
         rpen     = 4.0
         wmin     = 0.5
         deltaqc0 = 0.5e-3
         do_pdfpcp= .false.
         do_pmadjt= .true.
         do_emmax = .true.
         do_pnqv  = .true.
         mixing_assumption = 6
 	 scaleh0  = 1000.
         beta = 0.0
         rkm_max = 15
         mp_choice = 3
         do_pevap = .true.
         do_new_pblfac = .true.
         include_emf_s = .false.
         cfrac    = 0.15
         hcevap   = 0.85
         hcevappbl = 0.95
         pblfac   = 1.0
         emfrac_max = 0.25
         rmaxfrac = 0.1
         do_limit_wmax = .true.
         do_limit_fdr  = .true.
         wmax = 20.
         do_tten_max = .false.
         tten_max = 1000
         bigc = 0.0
         nom_ratio = 0.7
      </namelist>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_tke']/input/node())"/>
    </input>
  </experiment>

  <experiment name="c96L33_am4p0_donner_tke_turb_drymy" inherit="c96L33_am4p0_donner_tke_turb">
    <description>
TKE Turbulence experiment; like c96L33_am4p0_donner_tke_turb
but with buoync_option = 0 in tke_turb_nml
    </description>
    <input>
      <namelist name="tke_turb_nml">
         buoync_option = 0
      </namelist>
    </input>
  </experiment>

<!--================================-->
<!--===== Yi-Hsuan experiments =====-->
<!--================================-->

  <experiment name="c96L33_am4p0_donner_atm_col_vars" inherit="c96L33_am4p0_donner">
    <description>
Experiment to write out atmospheric column variables for Yi-Hsuan
    </description>
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_3hourly']/input/node())"/>
    </input>
    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_production']/node())"/>
      </production>
      <regression name="basic_1day">
          <xi:include xpointer="xpointer(//freInclude[@name='c96_216_basic_1day']/node())"/>
      </regression>
    </runtime>
  </experiment>

  <experiment name="c96L33_am4p0_donner_drymf_tend_mf_test" inherit="c96L33_am4p0_donner_my25">
    <description>
Mellor-Yamada experiment; same as c96L33_am4p0_donner_my25 but
vert_turb_driver_nml has do_drymf = .true. and do_tend_mf_test = .true.

With do_tend_mf_test = .true., test values are assigned for udt_mf, etc
and are passed into routine save_massflux_tendencies() and assigned to the
corresponding Tend_mf variables (Tend_mf%utnd, etc)... The udt_mf, Tend_mf%utnd,
and other variable value are then printed out for a single point, after which
the model exits... Yi-Hsuan's mass flux routines are not called in this experiment...
    </description>
    <input>
      <namelist name="vert_turb_driver_nml">
         gust_scheme      = 'beljaars',
         do_mellor_yamada = .true.,
         do_entrain       = .false.,
         do_edt           = .false.,
         do_diffusivity   = .false.,
         do_stable_bl     = .true.,
         do_shallow_conv  = .false.,
         do_drymf         = .true.,
         do_tend_mf_test  = .true.,
         do_printouts     = .true.
      </namelist>
    </input>
  </experiment>

  <experiment name="c96L33_am4p0_donner_drymf" inherit="c96L33_am4p0_donner_my25">
    <description>
Mellor-Yamada experiment; same as c96L33_am4p0_donner_my25 but vert_turb_driver_nml has do_drymf = .true.
    </description>
    <input>
      <namelist name="vert_turb_driver_nml">
         gust_scheme      = 'beljaars',
         do_mellor_yamada = .true.,
         do_entrain       = .false.,
         do_edt           = .false.,
         do_diffusivity   = .false.,
         do_stable_bl     = .true.,
         do_shallow_conv  = .false.,
         do_drymf         = .true.,
         do_printouts     = .false.
      </namelist>
    </input>
  </experiment>

  <experiment name="a00-c96L33_am4p0_donner" inherit="c96L33_am4p0_donner"   >
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_edmf_mynn']/input/node())"/>
    </input>
  </experiment>

  <experiment name="x01a-c96L33_am4p0_mynn_diag" inherit="a00-c96L33_am4p0_donner">
<description>
Code used
  edmf_mynn.F90, ?? 0dbc8cd1c148fd3741fc4c42257896e0dc56fb32
  physics_driver.F90, ?? 9b18d7b08d370d11ed12c5e94f12bdf36fd061bf
</description>
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_edmf_mynn']/input/node())"/>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = T,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
      </namelist>
    </input>
  </experiment>

  <experiment name="x01b-c96L33_am4p0_mynn" inherit="x01a-c96L33_am4p0_mynn_diag">
    <input>
      <namelist name="vert_turb_driver_nml">
 DO_SHALLOW_CONV = F,
 DO_MELLOR_YAMADA        = F,
 DO_TKE_TURB     = F,
 DO_MOLECULAR_DIFFUSION  = F,
 DO_STABLE_BL    = F,
 DO_DIFFUSIVITY  = F,
 DO_EDT  = F,
 DO_ENTRAIN      = F,
 DO_SIMPLE       = F,
      </namelist>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        4,
 JJ_WRITE        =        4,
 LAT_WRITE       =  0.210512289625895
 LON_WRITE       =  2.60344627634657
 DO_STOP_RUN     = F,
      </namelist>
    </input>
  </experiment>

  <experiment name="x01c-c96L33_am4p0_mynn_fakePBL_sfcfluxSTAR" inherit="x01a-c96L33_am4p0_mynn_diag">
    <input>
      <namelist name="vert_turb_driver_nml">
 DO_SHALLOW_CONV = F,
 DO_MELLOR_YAMADA        = F,
 DO_TKE_TURB     = F,
 DO_MOLECULAR_DIFFUSION  = F,
 DO_STABLE_BL    = T,
 DO_DIFFUSIVITY  = F,
 DO_EDT  = F,
 DO_ENTRAIN      = T,
 DO_SIMPLE       = F,
      </namelist>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 OPTION_SURFACE_FLUX     = star                ,
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = star                ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
      </namelist>
    </input>
  </experiment>

  <experiment name="x01d-c96L33_am4p0_mynn_fakePBL_sfcfluxUPDT" inherit="x01a-c96L33_am4p0_mynn_diag">
    <input>
      <namelist name="vert_turb_driver_nml">
 DO_SHALLOW_CONV = F,
 DO_MELLOR_YAMADA        = F,
 DO_TKE_TURB     = F,
 DO_MOLECULAR_DIFFUSION  = F,
 DO_STABLE_BL    = T,
 DO_DIFFUSIVITY  = F,
 DO_EDT  = F,
 DO_ENTRAIN      = T,
 DO_SIMPLE       = F,
      </namelist>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
      </namelist>
    </input>
  </experiment>

  <experiment name="x01a_debug-c96L33_am4p0_mynn_diag" inherit="x01a-c96L33_am4p0_mynn_diag">
  </experiment>

  <experiment name="x01b_debug-c96L33_am4p0_mynn" inherit="x01b-c96L33_am4p0_mynn">
  </experiment>

  <experiment name="x11a-c96L33_am4p0_mynn_diag" inherit="x01a-c96L33_am4p0_mynn_diag">
  </experiment>

  <experiment name="x11a_debug-c96L33_am4p0_mynn_diag" inherit="x01a-c96L33_am4p0_mynn_diag">
    <input>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = T,
      </namelist>
    </input>
  </experiment>

  <experiment name="x11b-c96L33_am4p0_mynn_diag" inherit="x01a-c96L33_am4p0_mynn_diag">
    <input>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        4,
 JJ_WRITE        =        4,
 LAT_WRITE       =  0.210512289625895
 LON_WRITE       =  2.60344627634657
 DO_STOP_RUN     = F,
      </namelist>
    </input>
  </experiment>

  <experiment name="x11d-c96L33_am4p0_mynn" inherit="x01b-c96L33_am4p0_mynn">
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
      </namelist>
    </input>
  </experiment>

  <experiment name="x21d-c96L33_am4p0_mynn" inherit="x01b-c96L33_am4p0_mynn">
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        27,
 JJ_WRITE        =        1,
 LAT_WRITE       =   -0.125989713787515 
 LON_WRITE       =  1.01571602273607
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        27,
 JJ_WRITE        =        1,
 LAT_WRITE       =   -0.125989713787515 
 LON_WRITE       =  1.01571602273607
      </namelist>
    </input>
  </experiment>

  <experiment name="x31d-c96L33_am4p0_mynn" inherit="x01b-c96L33_am4p0_mynn">
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        27,
 JJ_WRITE        =        1,
 LAT_WRITE       =   -0.125989713787515 
 LON_WRITE       =  1.01571602273607
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        27,
 JJ_WRITE        =        1,
 LAT_WRITE       =   -0.125989713787515 
 LON_WRITE       =  1.01571602273607
      </namelist>
    </input>
  </experiment>

  <experiment name="x41a-c96L33_am4p0_mynn" inherit="x01b-c96L33_am4p0_mynn">
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
    </input>
  </experiment>

  <experiment name="x51a-c96L33_am4p0_mynn_MODqdt" inherit="x01b-c96L33_am4p0_mynn">
<description>
Latest code version, 01/15/2021
  edmf_mynn.F90, b4a7c8a46c151e875c9f6cda03c8ba0e0598420f
  physics_driver.F90, 619d3058e1b523b2be31bf42134927a83ac82057
</description>
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_QDT_SAME_AS_QTDT     = T,
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
    </input>
  </experiment>

  <experiment name="x61a-c96L33_am4p0_mynn" inherit="x01b-c96L33_am4p0_mynn">
<description>
Latest code version, 01/15/2021
  edmf_mynn.F90, 3e635a9925b461325c50ef62ebc889bcbed631dc
  physics_driver.F90, 619d3058e1b523b2be31bf42134927a83ac82057
</description>
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_QDT_SAME_AS_QTDT     = F,
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
    </input>
  </experiment>

  <experiment name="x61b-c96L33_am4p0_mynn_MODqdt" inherit="x61a-c96L33_am4p0_mynn">
    <input>
      <namelist name="edmf_mynn_nml">
 DO_QDT_SAME_AS_QTDT     = T,
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
    </input>
  </experiment>


<!--
####################

  x7* series

Latest code version, 01/21/2021
  edmf_mynn.F90, 485782c776855be25b92dcd1a0bacbc93076fb8f
  physics_driver.F90, 0ea083b3b4f58b087699d508eaeb5e5806a7d1cd  

####################
-->

  <experiment name="x70a-c96L33_am4p0_mynn_diag" inherit="a00-c96L33_am4p0_donner">
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_edmf_mynn']/input/node())"/>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = T,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_QDT_SAME_AS_QTDT     = F,
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
    </input>
  </experiment>

  <experiment name="x71a-c96L33_am4p0_mynn" inherit="x61a-c96L33_am4p0_mynn">
  </experiment>

<!--
####################

@@@@@@@@@  
  x81a & x81b 

Latest code version, 01/24/2021
  edmf_mynn.F90, b1e73695c26c4baf194111f1cbfd56408a87730a
    cloud physics modified
    stability limiters for MF
    fixes in the vertical velocity equation for the plumes  

  physics_driver.F90, 44318e42f403401bcfd15207b08dffe614aefdc1
    reset tau_x, tau_y, surf_diff%delta_u, surf_diff%delta_v when MYNN is on

####################
-->

  <experiment name="x81a-c96L33_am4p0_mynn" inherit="x61a-c96L33_am4p0_mynn">
  </experiment>

  <experiment name="x81b-c96L33_am4p0_mynn_MODqdt" inherit="x61b-c96L33_am4p0_mynn_MODqdt">
  </experiment>

<!--
####################

@@@@@@@@@  
  m01 

Latest code version, 01/24/2021
  edmf_mynn.F90, b1e73695c26c4baf194111f1cbfd56408a87730a
    cloud physics modified
    stability limiters for MF
    fixes in the vertical velocity equation for the plumes  

  physics_driver.F90, 44318e42f403401bcfd15207b08dffe614aefdc1
    reset tau_x, tau_y, surf_diff%delta_u, surf_diff%delta_v when MYNN is on

####################
-->
  
  <experiment name="a00-m00-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000_diag" inherit="a00-c96L33_am4p0_donner">
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond_am4p0_yr2000']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_edmf_mynn']/input/node())"/>
    </input>
  </experiment>

  <experiment name="m00-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000_diag" inherit="a00-c96L33_am4p0_donner">
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond_am4p0_yr2000']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_edmf_mynn']/input/node())"/>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = T,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 0
 do_edmf_mynn_diffusion_smooth = T
 do_return_edmf_mynn_diff_only = T
 do_edmf_mynn_in_physics = "down"
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 OPTION_SURFACE_FLUX     = star
 bl_mynn_edmf = 0
 do_option_edmf2ls_mp = 99
 edmf_type = 1
 do_use_tau = F
      </namelist>
    </input>
  </experiment>

  <experiment name="m01-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000" inherit="a00-c96L33_am4p0_donner">
    <description>
       MYNN only returns the diffusion coefficients to AM4 and diffusion is handled by the vertical diffusion program. This configuration is similar to Lock: MYNN is put in physics_driver_down and see the updated state by radiation and GWD.
   
      code version
        edmf_mynn.F90, 2f31094acca6289e2e520da599126400b1cdf8b9
        physics_driver.F90, b5b41a472a7207bd4fd31aaa5aebb80beb677957
    </description>
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond_am4p0_yr2000']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_edmf_mynn']/input/node())"/>
      <namelist name="vert_turb_driver_nml">
 DO_SHALLOW_CONV = F,
 DO_MELLOR_YAMADA        = F,
 DO_TKE_TURB     = F,
 DO_MOLECULAR_DIFFUSION  = F,
 DO_STABLE_BL    = F,
 DO_DIFFUSIVITY  = F,
 DO_EDT  = F,
 DO_ENTRAIN      = F,
 DO_SIMPLE       = F,
      </namelist>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 0
 do_edmf_mynn_diffusion_smooth = T
 do_return_edmf_mynn_diff_only = T
 do_edmf_mynn_in_physics = "down"
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 OPTION_SURFACE_FLUX     = star
 bl_mynn_edmf = 0
 do_option_edmf2ls_mp = 99
 edmf_type = 1
 do_use_tau = F
      </namelist>
    </input>
    <postProcess>
      <!--xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess']/postProcess/node())"/-->
      <xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess_EDMF']/postProcess/node())"/>
    </postProcess>
  </experiment>

  <experiment name="m11-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000" inherit="m01-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000">
    <description>
       MYNN only returns the diffusion coefficients to AM4 and diffusion is handled by the vertical diffusion program. This configuration is similar to Lock: MYNN is put in physics_driver_down and see the updated state by radiation and GWD.
   
      code version
        edmf_mynn.F90, 6bfd2092d4525ffc5280efa8ab56281f655efb07
        physics_driver.F90, b0d1abf1b0525699e16dcf8465484455e233db4f
   
      fix index problems in diff_t,m from edmf_mynn
    </description>
  </experiment>

  <experiment name="m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000" inherit="m01-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000">
    <description>
       MYNN only returns the diffusion coefficients to AM4 and diffusion is handled by the vertical diffusion program. This configuration is similar to Lock: MYNN is put in physics_driver_down and see the updated state by radiation and GWD.
   
      code version
        edmf_mynn.F90, 6bfd2092d4525ffc5280efa8ab56281f655efb07 
        physics_driver.F90, 030d0d6df06ecb09e7f15ff9867ea813890812bc
   
      fix index problems in diff_t,m from edmf_mynn
      The UW convection scheme diagnoses PBL depth using Lock's approach, instead of using MYNN-diagnosed PBL depth
      set compute_pblht = .true.' and 'parcel_buoy = 0.25' in uw_conv_nml.
      the updated version of uw_conv.F90, conv_utilities_k.F90, moistproc_kernels.F90 are used, taken from Zhihong Tan on 05/20/2021
    </description>
    <input>
      <namelist name="uw_conv_nml">
 COMPUTE_PBLHT   = T,
 PARCEL_BUOY     =  0.250000000000000     , 
 ICLOSURE        =           0,
 RKM_SH1 =   7.00000000000000     ,
 RKM_SH  =   3.00000000000000     ,
 CLDHGT_MAX      =   50000.0000000000     ,
 PLEV_CIN        =   60000.0000000000     ,
 PLEV_OMG        =   60000.0000000000     ,
 EIS_MAX =   8.00000000000000     ,
 EIS_MIN =  0.000000000000000E+000,
 DO_PEFF_LAND    = F,
 DO_DEEP = T,
 IDPCHOICE       =           2,
 DO_COLDT        = T,
 DO_LANDS        = F,
 DO_UWCMT        = F,
 DO_VARYING_RPEN = F,
 DO_NEW_CONVCLD  = T,
 DO_MSE_BUDGET   = F,
 RPEN_CHOICE     =           0,
 DO_FAST = F,
 DO_ICE  = T,
 DO_PPEN = T,
 DO_FORCEDLIFTING        = F,
 DO_GUST_QT      = F,
 USE_NEW_LET     = T,
 DO_HLFLX_ZERO   = T,
 DO_NEW_QNACT    = T,
 DO_2ND_ACT      = T,
 N0      =   100000000.000000     ,
 ATOPEVAP        =  0.000000000000000E+000,
 APPLY_TENDENCY  = T,
 PREVENT_UNREASONABLE    = T,
 DO_MINMSE       = T,
 AEROL   =  1.000000000000000E-012,
 TKEMIN  =  1.000000000000000E-006,
 CLDHGT_MAX_SHALLOW      =  0.000000000000000E+000,
 DO_UMF_PBL      = T,
 WMIN_RATIO      =  5.000000000000000E-002,
 LANDFACT_M      =  0.500000000000000     ,
 PBLHT0  =   500.000000000000     ,
 LOFACTOR0       =  0.500000000000000     ,
 LOCHOICE        =           0,
 DO_DOWNDRAFT    = F,
 DO_AUTO_AERO    = F,
 DO_RESCALE      = T,
 DO_RESCALE_T    = T,
 WREL_MIN        =   1.00000000000000     ,
 DO_DEBUG        = F,
 TMAX0   =   363.150000000000     ,
 DO_CONV_MICRO_N = F,
 CUSH_REF        =  0.000000000000000E+000,
 DO_PROG_GUST    = T,
 TAU_GUST        =   7200.00000000000     ,
 GEFF    =   1.00000000000000     ,
 CGUST0  =   2.00000000000000     ,
 CGUST_MAX       =   4.00000000000000     ,
 SIGMA0  =  0.500000000000000     ,
 DO_QCTFLX_ZERO  = F,
 DO_DETRAN_ZERO  = F,
 DURATION        =   10800.0000000000     ,
 DO_SUBCLOUD_FLX = F,
 DO_NEW_SUBFLX   = T,
 SRC_CHOICE      =           1,
 GQT_CHOICE      =           0,
 ZERO_OUT_CONV_AREA      = F,
 TRACER_CHECK_TYPE       =           2,
 USE_TURB_TKE    = F,
 USE_LCL_ONLY    = F,
 DO_NEW_PEVAP    = F,
 PLEV_FOR        =   60000.0000000000     ,
 STOP_AT_LET     = T,
 USE_PBLHTTKE_AVG        = F,
 USE_HLQTSRC_AVG = F,
 USE_CAPECIN_AVG = F,
 REPRODUCE_OLD_VERSION   = F,
 DO_PLEV_UMF     = F,
 PLEV_UMF        =   70000.0000000000     ,
 SHALLOW_UMF_THRESH      =  1.000000000000000E-003,
 DO_EIS_LIMIT    = T,
 DO_EIS_LIMITN   = F,
 DO_LTS_LIMIT    = F,
 DO_LTS_LIMITN   = F
      </namelist>
    </input>
  </experiment>

  <experiment name="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000" inherit="m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000">
    <description>
       same as m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000 but the edmf_mynn.F90 and physics_driver.F90 are updated.
       The results are exactly the same

      code version
        edmf_mynn.F90, abceb102bd6fe854ba4f9e6ff3e8e389df331ab1
        physics_driver.F90, 030d0d6df06ecb09e7f15ff9867ea813890812bc
    </description>
  </experiment>

  <experiment name="m12a1-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_ei4" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 PEFF_I_D        =  4.E-5
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.900000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12a2-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_ei6" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 PEFF_I_D        =  6.E-5
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.900000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12a3-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_ei8" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 PEFF_I_D        =  8.E-5
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.900000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12a4-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_ei9" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 PEFF_I_D        =  9.E-5
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.900000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>
  <experiment name="m12a5-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_ei10" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 PEFF_I_D        =  10.E-5
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.900000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12b1-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.2" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.200000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12b2-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.4" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.400000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12b3-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.8" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.800000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12b4-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.3" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.300000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12b5-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.45" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <description>
       same as m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000 but the edmf_mynn.F90 and physics_driver.F90 are updated.
       The results are exactly the same

       the rkm_dp1 is tuned from 0.9 to 0.45 to match CERES-EBAF TOA radiation imbalance

      code version
        edmf_mynn.F90, 35878ee7cd2f428662730081ea3e36edff20aca3 
        physics_driver.F90, 030d0d6df06ecb09e7f15ff9867ea813890812bc
    </description>
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.450000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m12b6-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.5" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.500000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m13-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000" inherit="m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000">
    <description>
       MYNN only returns the diffusion coefficients to AM4 and diffusion is handled by the vertical diffusion program. This configuration is similar to Lock: MYNN is put in physics_driver_down and see the updated state by radiation and GWD.
   
      code version
        edmf_mynn.F90, c1db55761e528a36caa1c46237b5f3524fa12d5d
        physics_driver.F90, 030d0d6df06ecb09e7f15ff9867ea813890812bc
   
      fix index problems in diff_t,m from edmf_mynn
      The UW convection scheme diagnoses PBL depth using Lock's approach, instead of using MYNN-diagnosed PBL depth
      set compute_pblht = .true.' and 'parcel_buoy = 0.25' in uw_conv_nml.
      the updated version of uw_conv.F90, conv_utilities_k.F90, moistproc_kernels.F90 are used, taken from Zhihong Tan on 05/20/2021

      same as m12, but stability function in MYNN is replaced with Suselj et al. (2019). bl_mynn_stabfunc = 1
    </description>
    <input>
      <namelist name="edmf_mynn_nml">
 MYNN_LEVEL      =           2,
 BL_MYNN_EDMF    =           0,
 BL_MYNN_EDMF_DD =           0,
 EXPMF   = T,
 UPWIND  =   1.00000000000000     ,
 DO_QDT_SAME_AS_QTDT     = F,
 BL_MYNN_MIXLENGTH       =           2,
 BL_MYNN_STABFUNC        =           1,
 L0      =   100.000000000000     ,
 NUP     =         100,
 UPSTAB  =   1.00000000000000     ,
 EDMF_TYPE       =           1,
 QKE_MIN =  4.000000000000000E-002,
 OPTION_SURFACE_FLUX     = star                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   200.000000000000     ,
 DO_PBLH_CONSTANT        = F,
 FIXED_PBLH      =   2500.00000000000     ,
 SGM_FACTOR      =   100.000000000000     ,
 DO_OPTION_EDMF2LS_MP    =          99,
 DO_USE_TAU      = F,
 DO_DEBUG_OPTION =                     ,
 DO_STOP_RUN     = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 DO_CHECK_CONSRV = F,
 II_WRITE        =          24,
 JJ_WRITE        =           2,
 LAT_WRITE       =   1.05915483000714     ,
 LON_WRITE       =   5.49627374598293
    </namelist>
    </input>
  </experiment>


  <experiment name="m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000_rdpI0.4" inherit="m13-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.400000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m13b5-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000_rdpI0.45" inherit="m13-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.450000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m13b6-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000_rdpI0.5" inherit="m13-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 CBMF0   =  1.000000000000000E-004,
 RKM_DP1 =  0.500000000000000     ,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_I_D        =  11.E-5
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>

  <experiment name="m14-c96L33_am4p0_mynn_diff_M3_EDonly_sfK_UWlock_ICam4p0_2000" inherit="m13-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000">
    <description>
       use MYNN-EDMF for q_t and theta_li. Approximating q_l and q_i changes and then recover q_v and T tendency.
       Method 3 in Leo's notes.

       code version
         edmf_mynn.F90, d2337779f68a78fe908ef9a6ddf9b7b35355048d
         physics_driver.F90, c6679945dc87e84c713f8d5a105c080c3017116f       
    </description>
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 6
 do_edmf_mynn_diffusion_smooth = T
 do_return_edmf_mynn_diff_only = F
 do_edmf_mynn_in_physics = "up"
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 OPTION_SURFACE_FLUX     = updated
 bl_mynn_edmf = 0
 do_option_edmf2ls_mp = 0
 edmf_type = 2
 do_use_tau = F
 bl_mynn_stabfunc = 1
 expmf = .false.
 upwind = 0.5
      </namelist>
    </input>
  </experiment>

  <experiment name="m14-c96L33_am4p0_mynn_diff_M3_EDonly_sfK_UWlock" inherit="m14-c96L33_am4p0_mynn_diff_M3_EDonly_sfK_UWlock_ICam4p0_2000">
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond']/input/node())"/>
    </input>
  </experiment>

  <experiment name="m14a-c96L33_am4p0_mynn_diff_M3_EDonly_sfK_UWlock_NOsm" inherit="m13-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000">
    <description>
       use MYNN-EDMF for q_t and theta_li. Approximating q_l and q_i changes and then recover q_v and T tendency.
       Method 3 in Leo's notes.

       code version
         edmf_mynn.F90, d2337779f68a78fe908ef9a6ddf9b7b35355048d
         physics_driver.F90, c6679945dc87e84c713f8d5a105c080c3017116f       
    </description>
    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
<!--
yhc, 2021/08/03, use this because using c96_864_producetion will have reproducibility problems
          <xi:include xpointer="xpointer(//freInclude[@name='c96_432_production']/node())"/>  
-->
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_1thread_production']/node())"/>  <!-- yhc, 2021/08/03, use this because using c96_864_producetion will have reproducibility problems -->
      </production>
    </runtime>
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond']/input/node())"/>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 6
 do_edmf_mynn_diffusion_smooth = F
 do_return_edmf_mynn_diff_only = F
 do_edmf_mynn_in_physics = "up"
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 OPTION_SURFACE_FLUX     = updated
 bl_mynn_edmf = 0
 do_option_edmf2ls_mp = 0
 edmf_type = 2
 do_use_tau = F
 bl_mynn_stabfunc = 1
 expmf = .false.
 upwind = 0.5
      </namelist>
    </input>
  </experiment>


  <experiment name="xxm12b1-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.2" inherit="m12a-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000">
    <input>
      <namelist name="deep_conv_nml">
 RKM_DP1 =  0.200000000000000     ,
 PEFF_I  =  1.100000000000000E-004,
 CBMF0   =  1.000000000000000E-004,
 RKM_DP2 =  0.100000000000000     ,
 DO_FORCED_CONV  = F,
 INCLUDE_EMF_D   = F,
 CRH_TH_OCEAN    =  0.400000000000000     ,
 CRH_TH_LAND     =  0.400000000000000     ,
 DO_FORCEDLIFTING_D      = F,
 FRAC_LIMIT_D    =  0.250000000000000     ,
 WCRIT_MIN_GUST  =  0.200000000000000     ,
 CIN_FACT        =   1.00000000000000     ,
 CAPE_TH =   10.0000000000000     ,
 CIN_TH  =   5.00000000000000     ,
 CWFN_TH =   10.0000000000000     ,
 TAU_DP  =   28800.0000000000     ,
 RPEN_D  =   4.00000000000000     ,
 MIXING_ASSUMPTION_D     =           6,
 NORDER  =           1,
 DCWFNDM_TH      =   100.000000000000     ,
 DO_PPEN_D       = T,
 DO_PEVAP_D      = T,
 CFRAC_D =  0.150000000000000     ,
 HCEVAP_D        =  0.850000000000000     ,
 PBLFAC_D        =   1.00000000000000     ,
 HCEVAPPBL_D     =  0.950000000000000     ,
 LOFACTOR_D      =   1.00000000000000     ,
 DCAPEDM_TH      =  0.000000000000000E+000,
 AUTO_TH0_D      =  2.000000000000000E-004,
 TCRIT_D =  -25.1500000000000     ,
 DO_LOD_RKM      = F,
 DO_LOD_CFRAC    = F,
 DO_LOD_TCRIT    = F,
 DO_LOD_CAPE     = F,
 PEFF_L_D        =  6.000000000000000E-005,
 DO_LOD_TAU      = F,
 DO_LOD_CUSH     = F,
 CGUST_CHOICE    =           1,
 TAU_DP_FACT     =   10.0000000000000     ,
 CRH_MAX =   1.00000000000000     ,
 DO_STOCHASTIC_RKM       = F,
 FRAC_RKM_PERT   =   1.00000000000000     ,
 DO_CGUST_DP     = T,
 GUSTMAX =   3.00000000000000     ,
 CPOOL_GUST      =   10.0000000000000     ,
 SRC_CHOICE_D    =           0
      </namelist>
    </input>
  </experiment>
  

  <experiment name="m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_rdpI0.4" inherit="m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000_rdpI0.4">
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond']/input/node())"/>
    </input>
  </experiment>

  <experiment name="m13b2a-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_rdpI0.4_NOsm" inherit="m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_rdpI0.4">
    <input>
      <namelist name="physics_driver_nml">
 diffusion_smooth = F
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC = F,
 DO_TRACERS_IN_EDMF_MYNN = F,
 DO_TRACERS_SELECTIVE    =           0,
 DO_EDMF_MYNN_DIFFUSION_SMOOTH   = F,
 DO_RETURN_EDMF_MYNN_DIFF_ONLY   = T,
 DO_EDMF_MYNN_IN_PHYSICS = down ,
      </namelist>
    </input>
  </experiment>


<!--
########################
########################
########################
########################
########################
-->

  <experiment name="x01-m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000_rdpI0.4" inherit="m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000_rdpI0.4">
  </experiment>

  <experiment name="x01-m14a-c96L33_am4p0_mynn_diff_M3_EDonly_sfK_UWlock_NOsm" inherit="m14a-c96L33_am4p0_mynn_diff_M3_EDonly_sfK_UWlock_NOsm">
  </experiment>

  <experiment name="x01-m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_rdpI0.4" inherit="m13b2-c96L33_am4p0_mynn_diff_Gmy_sfK_UWlock_ICam4p0_2000_rdpI0.4">
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond']/input/node())"/>
    </input>
  </experiment>

  <experiment name="x01-m12b2-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.4" inherit="m12b2-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.4">
  </experiment>

  <experiment name="x01-a00-c96L33_am4p0_donner" inherit="a00-c96L33_am4p0_donner">
  </experiment>

  <experiment name="x01-m11-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000" inherit="m11-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000">
  </experiment>

  <experiment name="x01-m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000" inherit="m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000">
  </experiment>

  <experiment name="x01-m12b5-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.45" inherit="m12b5-c96L33_am4p0_mynn_ED_Gmy_UWlock_ICam4p0_2000_rdpI0.45">
  </experiment>

  <experiment name="x02-m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000" inherit="m12-c96L33_am4p0_mynn_diff_Gmy_UWlock_ICam4p0_2000">
  </experiment>

  <experiment name="x01-m01-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000" inherit="m01-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000">
  </experiment>

  <experiment name="x02-m01-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000" inherit="m01-c96L33_am4p0_mynn_diff_Gmy_ICam4p0_2000">
    <input>
      <namelist name="vert_turb_driver_nml">
 DO_SHALLOW_CONV = F,
 DO_MELLOR_YAMADA        = F,
 DO_TKE_TURB     = F,
 DO_MOLECULAR_DIFFUSION  = F,
 DO_STABLE_BL    = T,
 DO_DIFFUSIVITY  = F,
 DO_EDT  = F,
 DO_ENTRAIN      = T,
 DO_SIMPLE       = F,
      </namelist>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = T,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 0
 do_edmf_mynn_diffusion_smooth = T
 do_return_edmf_mynn_diff_only = T
 do_edmf_mynn_in_physics = "down"
      </namelist>
    </input>
  </experiment>

<!--
####################
####################
####################

  testing experiments

####################
####################
####################
-->

  <experiment name="x01-x61a-c96L33_am4p0_mynn" inherit="x61a-c96L33_am4p0_mynn">
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
 DO_WRITEOUT_COLUMN_NML  = T,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714  
 LON_WRITE       =   5.49627374598293 
      </namelist>
    </input>
  </experiment>

  <experiment name="x11e-c96L33_am4p0_mynn_diag" inherit="x01a-c96L33_am4p0_mynn_diag">
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = T,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 TDT_MAX =   3000.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   500.000000000000     ,
      </namelist>
      <namelist name="edmf_mynn_nml">
 OPTION_SURFACE_FLUX     = updated                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   150.000000000000     ,
      </namelist>
    </input>
  </experiment>

<!--
  m2* series
    unify the naming convension
    using single threading otherwise the results are not reproducible. Don't know why

  code version
    edmf_mynn.F90     , 58b79cd56b6c0684f3d490b6473b2dd3273ada70
    physics_driver.F90, 8c684f99585f31773c3ec5c1ce68633a3a35b55c
-->

  <experiment name="m20-c96L33_am4p0_MYNN_ED_dPG" inherit="a00-c96L33_am4p0_donner">
    <description>
       MYNN only returns the diffusion coefficients to AM4 and diffusion is handled by the vertical diffusion program. This configuration is similar to Lock: MYNN is put in physics_driver_down and see the updated state by radiation and GWD.

      The UW convection scheme diagnoses PBL depth using Lock's approach, instead of using MYNN-diagnosed PBL depth
      set compute_pblht = .true.' and 'parcel_buoy = 0.25' in uw_conv_nml.
      the updated version of uw_conv.F90, conv_utilities_k.F90, moistproc_kernels.F90 are used, taken from Zhihong Tan on 05/20/2021
    </description>
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11_edmf_mynn']/input/node())"/>
      <namelist name="vert_turb_driver_nml">
 DO_SHALLOW_CONV = F,
 DO_MELLOR_YAMADA        = F,
 DO_TKE_TURB     = F,
 DO_MOLECULAR_DIFFUSION  = F,
 DO_STABLE_BL    = F,
 DO_DIFFUSIVITY  = F,
 DO_EDT  = F,
 DO_ENTRAIN      = F,
 DO_SIMPLE       = F,
      </namelist>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 0
 do_edmf_mynn_diffusion_smooth = T
 do_return_edmf_mynn_diff_only = T
 do_edmf_mynn_in_physics = "down"
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 OPTION_SURFACE_FLUX     = star
 bl_mynn_edmf = 0
 do_option_edmf2ls_mp = 99
 edmf_type = 1
 do_use_tau = F
      </namelist>
      <namelist name="uw_conv_nml">
 COMPUTE_PBLHT   = T,
 PARCEL_BUOY     =  0.250000000000000     ,
 ICLOSURE        =           0,
 RKM_SH1 =   7.00000000000000     ,
 RKM_SH  =   3.00000000000000     ,
 CLDHGT_MAX      =   50000.0000000000     ,
 PLEV_CIN        =   60000.0000000000     ,
 PLEV_OMG        =   60000.0000000000     ,
 EIS_MAX =   8.00000000000000     ,
 EIS_MIN =  0.000000000000000E+000,
 DO_PEFF_LAND    = F,
 DO_DEEP = T,
 IDPCHOICE       =           2,
 DO_COLDT        = T,
 DO_LANDS        = F,
 DO_UWCMT        = F,
 DO_VARYING_RPEN = F,
 DO_NEW_CONVCLD  = T,
 DO_MSE_BUDGET   = F,
 RPEN_CHOICE     =           0,
 DO_FAST = F,
 DO_ICE  = T,
 DO_PPEN = T,
 DO_FORCEDLIFTING        = F,
 DO_GUST_QT      = F,
 USE_NEW_LET     = T,
 DO_HLFLX_ZERO   = T,
 DO_NEW_QNACT    = T,
 DO_2ND_ACT      = T,
 N0      =   100000000.000000     ,
 ATOPEVAP        =  0.000000000000000E+000,
 APPLY_TENDENCY  = T,
 PREVENT_UNREASONABLE    = T,
 DO_MINMSE       = T,
 AEROL   =  1.000000000000000E-012,
 TKEMIN  =  1.000000000000000E-006,
 CLDHGT_MAX_SHALLOW      =  0.000000000000000E+000,
 DO_UMF_PBL      = T,
 WMIN_RATIO      =  5.000000000000000E-002,
 LANDFACT_M      =  0.500000000000000     ,
 PBLHT0  =   500.000000000000     ,
 LOFACTOR0       =  0.500000000000000     ,
 LOCHOICE        =           0,
 DO_DOWNDRAFT    = F,
 DO_AUTO_AERO    = F,
 DO_RESCALE      = T,
 DO_RESCALE_T    = T,
 WREL_MIN        =   1.00000000000000     ,
 DO_DEBUG        = F,
 TMAX0   =   363.150000000000     ,
 DO_CONV_MICRO_N = F,
 CUSH_REF        =  0.000000000000000E+000,
 DO_PROG_GUST    = T,
 TAU_GUST        =   7200.00000000000     ,
 GEFF    =   1.00000000000000     ,
 CGUST0  =   2.00000000000000     ,
 CGUST_MAX       =   4.00000000000000     ,
 SIGMA0  =  0.500000000000000     ,
 DO_QCTFLX_ZERO  = F,
 DO_DETRAN_ZERO  = F,
 DURATION        =   10800.0000000000     ,
 DO_SUBCLOUD_FLX = F,
 DO_NEW_SUBFLX   = T,
 SRC_CHOICE      =           1,
 GQT_CHOICE      =           0,
 ZERO_OUT_CONV_AREA      = F,
 TRACER_CHECK_TYPE       =           2,
 USE_TURB_TKE    = F,
 USE_LCL_ONLY    = F,
 DO_NEW_PEVAP    = F,
 PLEV_FOR        =   60000.0000000000     ,
 STOP_AT_LET     = T,
 USE_PBLHTTKE_AVG        = F,
 USE_HLQTSRC_AVG = F,
 USE_CAPECIN_AVG = F,
 REPRODUCE_OLD_VERSION   = F,
 DO_PLEV_UMF     = F,
 PLEV_UMF        =   70000.0000000000     ,
 SHALLOW_UMF_THRESH      =  1.000000000000000E-003,
 DO_EIS_LIMIT    = T,
 DO_EIS_LIMITN   = F,
 DO_LTS_LIMIT    = F,
 DO_LTS_LIMITN   = F
      </namelist>
    </input>
    <postProcess>
      <!--xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess']/postProcess/node())"/-->
      <xi:include xpointer="xpointer(//freInclude[@name='c96_amip_postprocess_EDMF']/postProcess/node())"/>
    </postProcess>
<!--
    <runtime>
      <production simTime="$(EXP_AMIP_LEN)" units="years" >
          <segment simTime="12" units="months" />
          <xi:include xpointer="xpointer(//freInclude[@name='c96_864_1thread_production']/node())"/>  
      </production>
    </runtime>
-->
  </experiment>

  <experiment name="m23-c96L33_am4p0_MYNN_ED_sfK_dPG" inherit="m20-c96L33_am4p0_MYNN_ED_dPG">
    <description>
       MYNN only returns the diffusion coefficients to AM4 and diffusion is handled by the vertical diffusion program. This configuration is similar to Lock: MYNN is put in physics_driver_down and see the updated state by radiation and GWD.

  code version
    edmf_mynn.F90     , 58b79cd56b6c0684f3d490b6473b2dd3273ada70
    physics_driver.F90, 8c684f99585f31773c3ec5c1ce68633a3a35b55c

      MYNN uses Susely's stability function, bl_mynn_stabfunc = 1
    </description>
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        24,
 JJ_WRITE        =        2,
 LAT_WRITE       =   1.05915483000714
 LON_WRITE       =   5.49627374598293
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 0
 do_edmf_mynn_diffusion_smooth = T
 do_return_edmf_mynn_diff_only = T
 do_edmf_mynn_in_physics = "down"
      </namelist>
      <namelist name="edmf_mynn_nml">
 MYNN_LEVEL      =           2,
 BL_MYNN_EDMF    =           0,
 BL_MYNN_EDMF_DD =           0,
 EXPMF   = T,
 UPWIND  =   1.00000000000000     ,
 DO_QDT_SAME_AS_QTDT     = F,
 BL_MYNN_MIXLENGTH       =           2,
 BL_MYNN_STABFUNC        =           1,
 L0      =   100.000000000000     ,
 NUP     =         100,
 UPSTAB  =   1.00000000000000     ,
 EDMF_TYPE       =           1,
 QKE_MIN =  4.000000000000000E-002,
 OPTION_SURFACE_FLUX     = star                ,
 TDT_MAX =   500.000000000000     ,
 DO_LIMIT_TDT    = F,
 TDT_LIMIT       =   200.000000000000     ,
 DO_PBLH_CONSTANT        = F,
 FIXED_PBLH      =   2500.00000000000     ,
 SGM_FACTOR      =   100.000000000000     ,
 DO_OPTION_EDMF2LS_MP    =          99,
 DO_USE_TAU      = F,
 DO_DEBUG_OPTION =                     ,
 DO_STOP_RUN     = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 DO_CHECK_CONSRV = F,
 II_WRITE        =          24,
 JJ_WRITE        =           2,
 LAT_WRITE       =   1.05915483000714     ,
 LON_WRITE       =   5.49627374598293
    </namelist>
    </input>
  </experiment>

  <experiment name="m23a-c96L33_am4p0_MYNN_ED_sfK_dPG_NOsm" inherit="m23-c96L33_am4p0_MYNN_ED_sfK_dPG">
    <description>
       same as m23-c96L33_am4p0_MYNN_ED_sfK_dPG but turning off implicit smoothing of ED coefficients (diffusion_smooth=F)
    </description>
    <input>
      <namelist name="physics_driver_nml">
 diffusion_smooth = F
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC = F,
 DO_TRACERS_IN_EDMF_MYNN = F,
 DO_TRACERS_SELECTIVE    =           0,
 DO_EDMF_MYNN_DIFFUSION_SMOOTH   = F,
 DO_RETURN_EDMF_MYNN_DIFF_ONLY   = T,
 DO_EDMF_MYNN_IN_PHYSICS = down ,
      </namelist>
    </input>
  </experiment>

  <experiment name="m24a-c96L33_am4p0_MYNN_M3_sfK_dPG_NOsm" inherit="m23-c96L33_am4p0_MYNN_ED_sfK_dPG">
    <description>
       use MYNN-EDMF for q_t and theta_li. Approximating q_l and q_i changes and then recover q_v and T tendency.
       Method 3 in Leo's notes.

       code version
         edmf_mynn.F90     , 58b79cd56b6c0684f3d490b6473b2dd3273ada70
         physics_driver.F90, 8c684f99585f31773c3ec5c1ce68633a3a35b55c
    </description>
    <input>
      <namelist name="physics_driver_nml">
 DO_EDMF_MYNN    = T,
 DO_EDMF_MYNN_DIAGNOSTIC    = F,
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 do_tracers_in_edmf_mynn = F
 do_tracers_selective = 6
 do_edmf_mynn_diffusion_smooth = F
 do_return_edmf_mynn_diff_only = F
 do_edmf_mynn_in_physics = "up"
      </namelist>
      <namelist name="edmf_mynn_nml">
 DO_WRITEOUT_COLUMN_NML  = F,
 II_WRITE        =        0,
 JJ_WRITE        =        0,
 DO_STOP_RUN     = F,
 OPTION_SURFACE_FLUX     = updated
 bl_mynn_edmf = 0
 do_option_edmf2ls_mp = 0
 edmf_type = 2
 do_use_tau = F
 bl_mynn_stabfunc = 1
 expmf = .false.
 upwind = 0.5
      </namelist>
    </input>
  </experiment>   

  <experiment name="y3seq_m23-c96L33_am4p0_MYNN_ED_sfK_dPG" inherit="m23-c96L33_am4p0_MYNN_ED_sfK_dPG">
  </experiment>   

  <experiment name="y3seq_m23a-c96L33_am4p0_MYNN_ED_sfK_dPG_NOsm" inherit="m23a-c96L33_am4p0_MYNN_ED_sfK_dPG_NOsm">
  </experiment>   

  <experiment name="y3seq_m24a-c96L33_am4p0_MYNN_M3_sfK_dPG_NOsm" inherit="m24a-c96L33_am4p0_MYNN_M3_sfK_dPG_NOsm">
  </experiment>   

  <experiment name="m20-c96L33_am4p0_MYNN_ED_dPG_ICam4p0_2000" inherit="m20-c96L33_am4p0_MYNN_ED_dPG">
    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L33_initCond_am4p0_yr2000']/input/node())"/>
    </input>
  </experiment>   

</experimentSuite>

      <!--namelist name="mass_flux_nml">
 UP_NUM  =          10,
 DO_MF_MICRO     = F,
 OPTION_SOLVER   = explicit            ,
 Z_PBL_MIN       =   100.000000000000     ,
 W_STAR_MIN      =  0.100000000000000     ,
 ENT0    =  0.200000000000000     ,
 ENT_LENGTH      =   30.000000000000     ,
 Z0_OVER_Z_PBL   =  0.100000000000000     ,
 PWMIN   =   1.00000000000000     ,
 PWMAX   =   3.00000000000000     ,
 AW      =   1.00000000000000     ,
 BW      =   1.50000000000000     ,
 FILTER_MASSFLUX = "if_moist_allmf_off",                                     ,
 DO_WRITEOUT_PROFILE     = T,
 DO_PRINTOUTS    = F
      </namelist-->
    <!--input>
      <namelist name="sat_vapor_pres_nml">
 SHOW_BAD_VALUE_COUNT_BY_SLICE   = .true.
 SHOW_ALL_BAD_VALUES     = .true. 
      </namelist-->
